var recaptcha=function(){"use strict";function vt(e){return e}const de={equals:(e,t)=>e===t};let Ie=be;const G=1,J=2;var z=null;let ce=null,Me=null,I=null,N=null,Y=null,Z=0;function fe(e,t){t=t?Object.assign({},de,t):de;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(r.value)),Ae(r,n));return[Ne.bind(r),s]}function Oe(e){if(I===null)return e();const t=I;I=null;try{return e()}finally{I=t}}function Ne(){if(this.sources&&this.state)if(this.state===G)he(this);else{const e=N;N=null,Q(()=>ee(this)),N=e}if(I){const e=this.observers?this.observers.length:0;I.sources?(I.sources.push(this),I.sourceSlots.push(e)):(I.sources=[this],I.sourceSlots=[e]),this.observers?(this.observers.push(I),this.observerSlots.push(I.sources.length-1)):(this.observers=[I],this.observerSlots=[I.sources.length-1])}return this.value}function Ae(e,t,r){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&Q(()=>{for(let n=0;n<e.observers.length;n+=1){const i=e.observers[n],m=ce&&ce.running;m&&ce.disposed.has(i),(m?!i.tState:!i.state)&&(i.pure?N.push(i):Y.push(i),i.observers&&ye(i)),m||(i.state=G)}if(N.length>1e6)throw N=[],new Error})),t}function he(e){if(!e.fn)return;te(e);const t=Z;Fe(e,e.value,t)}function Fe(e,t,r){let s;const n=z,i=I;I=z=e;try{s=e.fn(t)}catch(m){return e.pure&&(e.state=G,e.owned&&e.owned.forEach(te),e.owned=null),e.updatedAt=r+1,we(m)}finally{I=i,z=n}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Ae(e,s):e.value=s,e.updatedAt=r)}function pe(e){if(e.state===0)return;if(e.state===J)return ee(e);if(e.suspense&&Oe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Z);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===G)he(e);else if(e.state===J){const s=N;N=null,Q(()=>ee(e,t[0])),N=s}}function Q(e,t){if(N)return e();let r=!1;N=[],Y?r=!0:Y=[],Z++;try{const s=e();return Le(r),s}catch(s){r||(Y=null),N=null,we(s)}}function Le(e){if(N&&(be(N),N=null),e)return;const t=Y;Y=null,t.length&&Q(()=>Ie(t))}function be(e){for(let t=0;t<e.length;t++)pe(e[t])}function ee(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const n=s.state;n===G?s!==t&&(!s.updatedAt||s.updatedAt<Z)&&pe(s):n===J&&ee(s,t)}}}function ye(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=J,r.pure?N.push(r):Y.push(r),r.observers&&ye(r))}}function te(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),s=e.sourceSlots.pop(),n=r.observers;if(n&&n.length){const i=n.pop(),m=r.observerSlots.pop();s<n.length&&(i.sourceSlots[m]=s,n[s]=i,r.observerSlots[s]=m)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)te(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)te(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Re(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function we(e,t=z){throw Re(e)}async function _e(e,t,r){if(!e()||e().ACTIVE===!1||e().OPTIONS[r].ENABLED===!1)return!1;function s(m,b){try{return b.includes(m)}catch(C){return console.error("Error parsing URLs:",C),!1}}const n=e().BLACKLIST;return!(s(t(),n)&&e().BLACKLISTENABLED)}const $e="0.1.9",Be=(e,t)=>{const r=document.createElement("div");r.style.cssText="position:fixed;top:8%;left:0;background-color:rgba(0,0,0,.6);padding:2px;color:#fff;font:calc(14px + .5vw) 'Arial',sans-serif;font-weight:bold;text-transform:uppercase;letter-spacing:1px;z-index:9999;transition:all 1s;animation:slideIn 1s forwards",r.innerHTML=`<p>${e}. Retrying in..<span id="countdown">${t}</span></p>`,document.body.appendChild(r),(()=>{const i=document.getElementById("countdown");if(!i)return;let m=t;const b=setInterval(()=>{m--,i.textContent=m,m<=0&&clearInterval(b)},1e3)})();const n=document.createElement("style");n.innerHTML="@keyframes slideIn{0%{transform:translateX(-100%)}100%{transform:translateX(0)}}@keyframes slideOut{0%{transform:translateX(0)}100%{transform:translateX(100%)}}",document.head.appendChild(n),setTimeout(()=>{r.style.animation="slideOut 1s forwards",setTimeout(()=>{document.body.removeChild(r)},1e3)},t*1e3)},X=e=>document.querySelector(e),xe=e=>document.querySelectorAll(e);function ve(){return X(".task-answers")!==null}function Ee(){return xe(".task-image .image").length===9}function Se(){return X(".bounding-box-example")!==null}function De(){return X(".challenge-header")!==null&&X(".bounding-box-example")===null&&X(".task-grid")==null}function Ke(){const e=document.body.getBoundingClientRect();return e?.width===0||e?.height===0?!1:document.querySelector("div.check")!==null}function V(e){return new Promise(t=>setTimeout(t,e))}function Ue(e,t){return Math.floor(Math.random()*(t-e)+e)}function je(){try{const e=document.querySelector("div.check");return e&&e.style.display==="block"}catch(e){return console.error(e),!1}}async function Ye(e){const t=await(await fetch(e,{headers:{"if-none-match":'"CFDAD5AA0CE4A3068FF1CABAC59E4D9D"'},host:"https://domain.com"})).blob();return await We(t)}async function We(e){return new Promise(t=>{const r=new FileReader;r.readAsDataURL(e),r.addEventListener("loadend",()=>{const s=r.result.replace(/^data:image\/(png|jpeg);base64,/,"");t(s)}),r.addEventListener("error",()=>{logs&&console.log("❌ Failed to convert url to base64")})})}async function ke(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch the URL: ${e}`);const r=await t.blob();return new Promise((s,n)=>{const i=new FileReader;i.readAsDataURL(r),i.addEventListener("loadend",()=>{s(i.result.replace(/^data:image\/(png|jpeg);base64,/,""))}),i.addEventListener("error",()=>{console.error("❌ Failed to read blob as base64"),n("Failed to read blob")})})}catch(t){return console.error(`❌ Failed to convert URL to base64: ${e}`,t),null}}function He(){document.querySelectorAll("iframe").forEach(t=>{t.src=t.src})}async function Xe(){Se()?(await V(200),document.querySelector(".display-language.button").click(),await V(100),document.querySelector(".language-selector .option:nth-child(23)").click()):Ee()?(await V(100),document.querySelector(".language-selector .option:nth-child(23)").click()):ve()&&(document.querySelector(".display-language.button").click(),await V(200),document.querySelector(".language-selector .option:nth-child(23)").click(),await V(200))}function Ve(){document.querySelector(".button-submit").click()}async function Ge(){const e=navigator.userAgent;let t,r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],`IE ${t[1]||""}`):r[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!=null)?t.slice(1).join(" ").replace("OPR","Opera"):(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!=null&&r.splice(1,1,t[1]),{version:r,platform:navigator.platform})}function Je(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}function le(e){["mouseover","mousedown","mouseup","click"].forEach(t=>{if(e.fireEvent)e.fireEvent("on"+t);else{const r=document.createEvent("MouseEvents");r.initEvent(t,!0,!1),e.dispatchEvent(r)}})}function ue(e,t,r,s,n,i,m){e.dispatchEvent(new MouseEvent(t,{bubbles:!0,clientX:r,clientY:s,buttons:n,button:i,pressure:m}))}async function ze(e,t){const r=document.querySelector("canvas");if(e!==void 0)for(const{start:s,end:n}of e)if(Array.isArray(s)&&s.length!==0&&Array.isArray(n)&&n.length!==0){const[i,m]=s,[b,C]=n,x=r.getBoundingClientRect(),w=i+x.left,M=m+x.top,L=b+x.left,S=C+x.top;ue(r,"mousedown",w,M,1,0,1),await new Promise(B=>setTimeout(B,t));const F=L-w,P=S-M,D=Math.sqrt(F**2+P**2),$=Math.round(D/6),W=F/$,O=P/$;for(let B=1;B<=$;B++){const H=w+W*B,l=M+O*B;ue(r,"mousemove",H,l,1,0,1),await new Promise(u=>setTimeout(u,50))}ue(r,"mouseup",L,S,0,0,0)}else re.$(".button-submit").click();else re.$(".button-submit").click()}async function Ze(e){function t(i,m,b){const C=i.getBoundingClientRect(),x=["mouseover","mousedown","mouseup","click"],w={clientX:m+C.left,clientY:b+C.top,bubbles:!0};for(let M=0;M<x.length;M++){const L=new MouseEvent(x[M],w);i.dispatchEvent(L)}}const r=document.querySelector("canvas");r.addEventListener("mousedown",i=>{const m=r.getBoundingClientRect();i.clientX-m.left,i.clientY-m.top});const[s,n]=e;t(r,s,n),await re.sleep(300)}async function Qe(e,t){const r=(await chrome.storage.local.get("customEndpoint")).customEndpoint;return t==="custom"?`https://${r}/${e}`:"https://api.captchasonic.com/createTask"}async function et(e){for(const t of e){const r=[...document.querySelectorAll(".answer-text")].find(s=>s.outerText===t);le(r),[...document.querySelectorAll(".answer-example")].some(s=>s.style.backgroundColor==="rgb(116, 116, 116)")||le(r)}}async function tt(){const e=document.querySelector("canvas");if(!e)return null;const[t,r]=[e.width,e.height],n=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,t,r,{willReadFrequently:!0});if((S=>{const F=S.data;for(let P=0;P<F.length;P+=4){const D=F[P],$=F[P+1],W=F[P+2];if(D!==$||$!==W)return!1}return!0})(n))return null;const m=parseInt(e.style.width,10),b=parseInt(e.style.height,10);if(m<=0||b<=0)return null;const C=Math.min(m/t,b/r),[x,w]=[t*C,r*C],M=document.createElement("canvas");return Object.assign(M,{width:x,height:w}),M.getContext("2d",{willReadFrequently:!0}).drawImage(e,0,0,t,r,0,0,x,w),M.toDataURL("image/jpeg").replace(/^data:image\/(png|jpeg);base64,/,"")}function rt(e){return[...document.querySelectorAll(`${e}`)].map(t=>t.style.backgroundImage.replace(/url\("|"\)/g,""))}function st(e){return Promise.all(e.map(async(t,r)=>(e[r]=await ke(t),e[r])))}async function nt(e,t,r){const s=e.getBoundingClientRect(),n=s.left+window.scrollX,i=s.top+window.scrollY,m=n+t,b=i+r,C=new MouseEvent("mousedown",{clientX:n,clientY:i,bubbles:!0});e.dispatchEvent(C),await new Promise(S=>setTimeout(S,1e3));const x=20,w=(m-n)/x,M=(b-i)/x;for(let S=1;S<=x;S++){const F=n+w*S,P=i+M*S,D=new MouseEvent("mousemove",{clientX:F,clientY:P,bubbles:!0});e.dispatchEvent(D),await new Promise($=>setTimeout($,150))}const L=new MouseEvent("mouseup",{clientX:m,clientY:b,bubbles:!0});e.dispatchEvent(L),await new Promise(S=>setTimeout(S,1e3))}async function it(e,t,r){try{const n=await(await fetch(e,{method:"POST",headers:r,body:JSON.stringify(t)})).json();if(n.code!==200){const i=n.msg;if(i){if(n.code===1||n.code===10||n.code===18||n.code===110){chrome.runtime.sendMessage({action:i}),stop=!0;return}if(n.code===17||n.code===19||n.code===429){chrome.runtime.sendMessage({action:i}),stop=!0;return}if([4,3,12,13,14,115].includes(n.code))return document.querySelector(".geetest_refresh").click(),null}}return n}catch(s){throw console.error("Error fetching coordinates:",s),s}}async function at(e){try{const t=await fetch("https://feedback.captchasonic.com/extFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const r=await t.json();return console.log("Success:",r),r}catch(t){return console.error("Error sending feedback:",t),null}}function ot(e,t){const r=document.querySelector(e);if(!r){console.warn(`Element not found: ${e}`);return}return new MutationObserver(n=>{n.forEach(i=>{if(i.attributeName==="aria-hidden"){const m=r.getAttribute("aria-hidden")==="true";window.postMessage({type:"ariaHiddenChange",value:m},"*"),typeof t=="function"&&t(m)}})}).observe(r,{attributes:!0,attributeFilter:["aria-hidden"]}),r.getAttribute("aria-hidden")==="true"}function ct(e,t){const r=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,s=>{s[`${e}_solved`],chrome.storage.local.get([r],n=>{const i=n[r]||[];if(i.some(b=>b.fail_report===!0)){const b=i.map(w=>w.data),x={type:"feedback",payload:{apiKey:t,data:b,pass:!1}};b.length>0&&chrome.runtime.sendMessage(x,w=>{chrome.storage.local.remove([r,`${e}_solved`,`${e}_feedback`,`${e}_hasRun`],()=>{})})}chrome.storage.local.remove([r,`${e}_solved`],()=>{})})})}function lt(e,t){const r=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,s=>{s[`${e}_solved`],chrome.storage.local.get([r],n=>{const i=n[r]||[];if(i.some(b=>b.pass_report===!0)){const b=i.map(w=>w.data),x={type:"feedback",payload:{apiKey:t,data:b,pass:!0}};b.length>0&&chrome.runtime.sendMessage(x,w=>{chrome.storage.local.remove([r,`${e}_solved`,`${e}_feedback`],()=>{})})}chrome.storage.local.remove([r,`${e}_solved`],()=>{})})})}const re={version:$e,$:X,$$:xe,isMulti:ve,isGrid:Ee,isBbox:Se,isBboxDD:De,isWidget:Ke,sleep:V,randTimer:Ue,isSolved:je,countdownNotif:Be,getBase64FromUrl:ke,refreshIframes:He,getEn:Xe,skip:Ve,getBrowser:Ge,shuffle:Je,fireMouseEvents:le,getCanvas:Ze,handleCanvasDD:ze,getApi:Qe,clickMatchingElement:et,sliceOG:tt,updateExamples:st,getExamples:rt,solveGeetestCaptcha:nt,sendCoordinatesRequest:it,geeFetchImage:Ye,sendFeedback:at,observeAriaHidden:ot,handleCaptchaFeedback:ct,handleCaptchaFeedbackOnSuccess:lt},ut={matches:["<all_urls>"],allFrames:!0,async main(){const[e]=fe(window.location.host),[t,r]=fe(await chrome.storage.local.get("settings"));if(r(t().settings),chrome.runtime.onMessage.addListener((c,a,o)=>{if(c.action==="ReCaptcha_refresh_iframes"){const g=[...document.querySelectorAll("[src*=recaptcha]")];if(g)for(const p of g){const y=p.src;p.src="about:blank",setTimeout(()=>{p.src=y},100)}for(let p=0;p<g.length;p++){const y=g[p];try{y.contentWindow.location.origin!==window.location.origin&&(y.src=y.src)}catch{y.src=y.src}}}}),!await _e(t,e,"RECAPTCHA2"))return;let i=!1,m=t().LOGENABLED==="true";async function b(c,a){const o=document.querySelectorAll(".rc-image-tile-wrapper"),g={};async function p(y,q){const U=await Promise.all(Array.from(o).map(async h=>{const k=h.querySelector("img");return k?x(k.src):null})),K=U.every(h=>h!==null);return!K&&y>0?(await new Promise(h=>setTimeout(h,q)),p(y-1,q)):K?(U.forEach((h,k)=>{g[k]=h}),g):null}switch(c){case"split_33":return p(10,1e3);case"33":case"44":return await x(a);default:return{}}}class C{static now(){return Date.now()}static currentDate(){return new Date}static sleep(a){return new Promise(o=>setTimeout(o,a))}static async randomSleep(a,o){const g=Math.floor(Math.random()*(o-a)+a);return await C.sleep(g)}}async function x(c){try{const a=await fetch(c);if(!a.ok)throw new Error(`Failed to fetch URL: ${a.status} ${a.statusText}`);const o=await a.blob();return new Promise((g,p)=>{const y=new FileReader;y.onloadend=()=>g(y.result.replace(/^data:image\/(png|jpeg);base64,/,"")),y.onerror=p,y.readAsDataURL(o)})}catch(a){throw a}}async function w(c){document.contains(c)&&["mouseover","mousedown","mouseup","click"].forEach(a=>{const o=document.createEvent("MouseEvents");o.initEvent(a,!0,!1),c.dispatchEvent(o)})}async function M(){await w(document.querySelector("#recaptcha-anchor"))}async function L(){let c=document.querySelector("#recaptcha-anchor");return c?(c.getAttribute("aria-checked"),c.getAttribute("aria-checked")==="true"):!1}async function S(){let c=document.querySelector("#recaptcha-reload-button"),a=c?c.disabled:!0;return!!document.querySelector("#rc-imageselect")&&!a}async function F(){return!!document.querySelector(".recaptcha-checkbox")}async function P(){return document.querySelectorAll(".rc-imageselect-tile").length===9}async function D(){return document.querySelectorAll(".rc-imageselect-tile").length===16}async function $(){return document.querySelector("#recaptcha-anchor")?.classList.contains("recaptcha-checkbox-expired")}async function W(){try{const c=document.querySelectorAll("iframe");for(const a of c){const o=a.src;a.src="about:blank",await new Promise(g=>{a.onload=()=>{a.onload=null,a.src=o,g()}})}}catch{try{const a=document.querySelectorAll("iframe");for(const o of a){const g=o.src;o.src="about:blank",await new Promise(p=>setTimeout(p,50)),o.src=g}}catch{const o=document.querySelectorAll("iframe");for(const g of o)g.src=g.src}}}class O{static query(a,o){const g=document.querySelector(a);return o?g?.getAttribute(o):g}static queryAll(a){return document.querySelectorAll(a)}static isWidgetFrame(){return!!this.query(".recaptcha-checkbox")}static isImageFrame(){return!!this.query("#rc-imageselect")}static isErrorSelect(){return this.query(".rc-imageselect-error-select-more","style")!=="none"}static isErrorDynamic(){return this.query(".rc-imageselect-error-dynamic-more","style")!=="none"}static isSubmitDisabled(){return this.query("#recaptcha-verify-button","disabled")===!0}static isExpired(){return!!this.query(".recaptcha-checkbox-border")}static is11(){return this.queryAll(".rc-image-tile-11").length!==0}static isDynamic33(){return this.queryAll(".rc-imageselect-dynamic-selected").length!==0}static is33(){return this.queryAll(".rc-imageselect-tile").length===9}static is44(){return this.queryAll(".rc-imageselect-tile").length===16}static src11(){return this.query(".rc-image-tile-11","src")}static src44(){return this.query(".rc-image-tile-44","src")}static src33(){return this.query(".rc-image-tile-33","src")}static submit(){this.query("#recaptcha-verify-button")?.click()}static clicAudioBtn(){this.query("#recaptcha-audio-button")?.click()}static reload(){this.query("#recaptcha-reload-button")?.click()}static isSolved(){return this.query(".recaptcha-checkbox","aria-checked")==="true"||this.isSubmitDisabled()}static recapExpired(){return document.querySelector("#recaptcha-anchor")?.classList.contains("recaptcha-checkbox-expired")}static recapSolved(){let a=document.querySelector("#recaptcha-anchor");return a?(a.getAttribute("aria-checked"),a.getAttribute("aria-checked")==="true"):!1}static hasErrors(){return[".rc-imageselect-error-select-more",".rc-imageselect-error-dynamic-more",".rc-imageselect-error-select-something"].some(a=>{const o=this.query(a);return o&&getComputedStyle(o).display!=="none"&&o.tabIndex===0})}static isRateLimited(){return!!this.query(".rc-doscaptcha-header")}static isCellSelected(a){return a?.classList.contains("rc-imageselect-tileselected")}static getTarget(){return this.query(".rc-imageselect-desc strong, .rc-imageselect-desc-no-canonical strong","innerText")}static async refreshIframes(){try{const a=document.querySelectorAll("iframe");for(const o of a){const g=o.src;o.src="about:blank",await new Promise(p=>{o.onload=()=>{o.onload=null,o.src=g,p()}})}}catch{try{const o=document.querySelectorAll("iframe");for(const g of o){const p=g.src;g.src="about:blank",await new Promise(y=>setTimeout(y,50)),g.src=p}}catch{const g=document.querySelectorAll("iframe");for(const p of g)p.src=p.src}}}}let B=null,H=null;async function l(){const c=O.is44()?"44":await P()?"33":await is11()?"split_33":null;if(!c)return;const[a,o,g]=await u(),p=c==="split_33"?await b(g,o):{0:await b(g,o)},y=JSON.stringify(p);if(y){if(y===B)return"skip";B=y,R(p,g,a,c)}}async function u(){const c=await D()?"44":await P()?"33":null;if(!c)return;const a=document.querySelector(".rc-imageselect-instructions strong")?.innerText;if(!a)return;const o=document.querySelector(`.rc-image-tile-${c}`)?.src;if(o)return[a,o,c]}const f=new Map;for(;i===!1&&t().APIKEY&&t().ACTIVE===!0&&t().OPTIONS.RECAPTCHA2.ENABLED===!0&&t().OPTIONS.RECAPTCHA2.METHOD=="RECOGNITION";)if(await C.sleep(2e3),await F()&&t().OPTIONS.RECAPTCHA2.AUTOOPEN===!0&&!t().BLACKLIST.includes(e())&&t()?.AUTOOPENENABLED)if(await L()){i=!0;return}else await M();else if(await S()){const c=await D()?"44":await P()?"33":null;(c==="33"||c==="44")&&await S()&&!await L()&&t()?.OPTIONS?.RECAPTCHA2?.AUTOSOLVE===!0&&(await l(),await L()==!0&&(i=!0))}else if(await $())await W(),i=!1;else if(await L()){i=!0;return}async function A(){await w(document.querySelector("#recaptcha-verify-button"))}async function T(c,a,o){const g="https://api.captchasonic.com/createTask",p={"Content-Type":"application/json",APIKEY:t().APIKEY};if(t().LOGENABLED&&!c)return;const y=Object.values(c),q=JSON.stringify({target:a,type:o,img:y}),U=10;if(f.has(q))return f.get(q);async function K(k,j=0){return new Promise((qe,Pe)=>{const xt={type:"networkRequest",payload:{url:g,method:"POST",headers:p,body:JSON.stringify({apiKey:t().APIKEY,source:"chrome",version:re.version,task:{type:"ReCaptchaV2Image",questionType:o,queries:k,question:a,websiteURL:e(),metadata:{pageURL:e(),title:"reCAPTCHA"}}})}};chrome.runtime.sendMessage(xt,oe=>{if(!oe)return Pe(new Error("No response received from chrome.runtime.sendMessage."));oe.success?qe(oe.data):Pe(new Error(oe.error||"Request failed"))})}).catch(async qe=>{if(j>=U)throw new Error("Max retries reached. Request failed.");return await v(2e3),K(k,j+1)})}const h=K(y).then(k=>{if(k.code!==200){`${k.retryAfterSec}`,`${k.retryAfterSec}`,`${k.retryAfterSec}`;const j=k.msg;if(j){if([1,10,18,110].includes(k.code)){chrome.runtime.sendMessage({action:j}),i=!0;return}else if([17,19,429].includes(k.code)){chrome.runtime.sendMessage({action:j}),i=!0;return}else if([4,3,12,13,14,115].includes(k.code))return A()}}return k}).finally(()=>{f.delete(q)});return f.set(q,h),h}async function R(c,a,o,g,p){const y=document.querySelector(".rc-imageselect-desc-no-canonical strong")?.textContent;if(!c)return;const q=await T(c,o||y,a),U=document.querySelectorAll(".rc-image-tile-wrapper");if(!U)return;const K=await d(q);if(K){for(const h of K)await w(U[h]),await v(100);if(O.isDynamic33()===!1&&(E("dynamic",O.isDynamic33()),await v(1e3),A(),O.isErrorSelect()||O.isErrorDynamic()))return E("error found, skipping"),O.reload();if(g)return _(o,K);await v(1e3),A()}}async function _(c,a){for(;!i&&document.querySelectorAll(".rc-image-tile-11").length<a.length;)await v(150);const o=document.querySelectorAll(".rc-image-tile-wrapper img"),g={};if(!a)return;for(const h of a)h>=0&&h<o.length&&(Number.isInteger(h)&&(g[h]=await x(o[h].src)),typeof h=="boolean"&&h===!0&&(g[a.indexOf(h)]=await x(o[a.indexOf(h)].src)));const p=JSON.stringify(g);if(p===JSON.stringify(H)||p==="{}")return;const y=await T(g,c,"split_33");if(!y)return;const q=await d(y);if(!q)return;const U=q.every(h=>typeof h=="number");if(q.every(h=>typeof h=="boolean")&&!q.some(k=>k===!0))return await v(1e3),A(),O.isErrorSelect()||O.isErrorDynamic()?O.reload():void 0;if(U&&q.length==0)return await v(1e3),A(),O.isErrorSelect()||O.isErrorDynamic()?O.reload():void 0;for(const h of q)if(Number.isInteger(h)&&(await w(o[h]),await v(100)),typeof h=="boolean"){const k=q.indexOf(!0),j=Object.keys(g)[k];await w(o[j]),await v(100)}await v(1e3),_(c,q)}async function d(c){if(c!==void 0&&(c.answers||c.answers))return c.answers}function v(c){return new Promise(a=>setTimeout(a,c))}function E(){t().LOGENABLED}}};function gt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var se={exports:{}},mt=se.exports,Ce;function dt(){return Ce||(Ce=1,function(e,t){(function(r,s){s(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:mt,function(r){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)r.exports=globalThis.browser;else{const s="The message port closed before a response was received.",n=i=>{const m={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(m).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class b extends WeakMap{constructor(u,f=void 0){super(f),this.createItem=u}get(u){return this.has(u)||this.set(u,this.createItem(u)),super.get(u)}}const C=l=>l&&typeof l=="object"&&typeof l.then=="function",x=(l,u)=>(...f)=>{i.runtime.lastError?l.reject(new Error(i.runtime.lastError.message)):u.singleCallbackArg||f.length<=1&&u.singleCallbackArg!==!1?l.resolve(f[0]):l.resolve(f)},w=l=>l==1?"argument":"arguments",M=(l,u)=>function(A,...T){if(T.length<u.minArgs)throw new Error(`Expected at least ${u.minArgs} ${w(u.minArgs)} for ${l}(), got ${T.length}`);if(T.length>u.maxArgs)throw new Error(`Expected at most ${u.maxArgs} ${w(u.maxArgs)} for ${l}(), got ${T.length}`);return new Promise((R,_)=>{if(u.fallbackToNoCallback)try{A[l](...T,x({resolve:R,reject:_},u))}catch(d){console.warn(`${l} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,d),A[l](...T),u.fallbackToNoCallback=!1,u.noCallback=!0,R()}else u.noCallback?(A[l](...T),R()):A[l](...T,x({resolve:R,reject:_},u))})},L=(l,u,f)=>new Proxy(u,{apply(A,T,R){return f.call(T,l,...R)}});let S=Function.call.bind(Object.prototype.hasOwnProperty);const F=(l,u={},f={})=>{let A=Object.create(null),T={has(_,d){return d in l||d in A},get(_,d,v){if(d in A)return A[d];if(!(d in l))return;let E=l[d];if(typeof E=="function")if(typeof u[d]=="function")E=L(l,l[d],u[d]);else if(S(f,d)){let c=M(d,f[d]);E=L(l,l[d],c)}else E=E.bind(l);else if(typeof E=="object"&&E!==null&&(S(u,d)||S(f,d)))E=F(E,u[d],f[d]);else if(S(f,"*"))E=F(E,u[d],f["*"]);else return Object.defineProperty(A,d,{configurable:!0,enumerable:!0,get(){return l[d]},set(c){l[d]=c}}),E;return A[d]=E,E},set(_,d,v,E){return d in A?A[d]=v:l[d]=v,!0},defineProperty(_,d,v){return Reflect.defineProperty(A,d,v)},deleteProperty(_,d){return Reflect.deleteProperty(A,d)}},R=Object.create(l);return new Proxy(R,T)},P=l=>({addListener(u,f,...A){u.addListener(l.get(f),...A)},hasListener(u,f){return u.hasListener(l.get(f))},removeListener(u,f){u.removeListener(l.get(f))}}),D=new b(l=>typeof l!="function"?l:function(f){const A=F(f,{},{getContent:{minArgs:0,maxArgs:0}});l(A)}),$=new b(l=>typeof l!="function"?l:function(f,A,T){let R=!1,_,d=new Promise(a=>{_=function(o){R=!0,a(o)}}),v;try{v=l(f,A,_)}catch(a){v=Promise.reject(a)}const E=v!==!0&&C(v);if(v!==!0&&!E&&!R)return!1;const c=a=>{a.then(o=>{T(o)},o=>{let g;o&&(o instanceof Error||typeof o.message=="string")?g=o.message:g="An unexpected error occurred",T({__mozWebExtensionPolyfillReject__:!0,message:g})}).catch(o=>{console.error("Failed to send onMessage rejected reply",o)})};return c(E?v:d),!0}),W=({reject:l,resolve:u},f)=>{i.runtime.lastError?i.runtime.lastError.message===s?u():l(new Error(i.runtime.lastError.message)):f&&f.__mozWebExtensionPolyfillReject__?l(new Error(f.message)):u(f)},O=(l,u,f,...A)=>{if(A.length<u.minArgs)throw new Error(`Expected at least ${u.minArgs} ${w(u.minArgs)} for ${l}(), got ${A.length}`);if(A.length>u.maxArgs)throw new Error(`Expected at most ${u.maxArgs} ${w(u.maxArgs)} for ${l}(), got ${A.length}`);return new Promise((T,R)=>{const _=W.bind(null,{resolve:T,reject:R});A.push(_),f.sendMessage(...A)})},B={devtools:{network:{onRequestFinished:P(D)}},runtime:{onMessage:P($),onMessageExternal:P($),sendMessage:O.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:O.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},H={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return m.privacy={network:{"*":H},services:{"*":H},websites:{"*":H}},F(i,B,m)};r.exports=n(chrome)}})}(se)),se.exports}var ft=dt();const Te=gt(ft);function ne(e,...t){}const At={debug:(...e)=>ne(console.debug,...e),log:(...e)=>ne(console.log,...e),warn:(...e)=>ne(console.warn,...e),error:(...e)=>ne(console.error,...e)};class ge extends Event{constructor(t,r){super(ge.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=r}static EVENT_NAME=me("wxt:locationchange")}function me(e){return`${Te?.runtime?.id}:reCaptcha:${e}`}function ht(e){let t,r;return{run(){t==null&&(r=new URL(location.href),t=e.setInterval(()=>{let s=new URL(location.href);s.href!==r.href&&(window.dispatchEvent(new ge(s,r)),r=s)},1e3))}}}class ie{constructor(t,r){this.contentScriptName=t,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=me("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=ht(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return Te.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,r){const s=setInterval(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearInterval(s)),s}setTimeout(t,r){const s=setTimeout(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearTimeout(s)),s}requestAnimationFrame(t){const r=requestAnimationFrame((...s)=>{this.isValid&&t(...s)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(t,r){const s=requestIdleCallback((...n)=>{this.signal.aborted||t(...n)},r);return this.onInvalidated(()=>cancelIdleCallback(s)),s}addEventListener(t,r,s,n){r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(r.startsWith("wxt:")?me(r):r,s,{...n,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),At.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:ie.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const r=t.data?.type===ie.SCRIPT_STARTED_MESSAGE_TYPE,s=t.data?.contentScriptName===this.contentScriptName,n=!this.receivedMessageIds.has(t.data?.messageId);return r&&s&&n}listenForNewerScripts(t){let r=!0;const s=n=>{if(this.verifyScriptStartedEvent(n)){this.receivedMessageIds.add(n.data.messageId);const i=r;if(r=!1,i&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",s),this.onInvalidated(()=>removeEventListener("message",s))}}const pt=Symbol("null");let bt=0;class yt extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[r,s]of t)this.set(r,s)}}_getPublicKeys(t,r=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const s=this._getPrivateKey(t,r);let n;return s&&this._publicKeys.has(s)?n=this._publicKeys.get(s):r&&(n=[...t],this._publicKeys.set(s,n)),{privateKey:s,publicKey:n}}_getPrivateKey(t,r=!1){const s=[];for(let n of t){n===null&&(n=pt);const i=typeof n=="object"||typeof n=="function"?"_objectHashes":typeof n=="symbol"?"_symbolHashes":!1;if(!i)s.push(n);else if(this[i].has(n))s.push(this[i].get(n));else if(r){const m=`@@mkm-ref-${bt++}@@`;this[i].set(n,m),s.push(m)}else return!1}return JSON.stringify(s)}set(t,r){const{publicKey:s}=this._getPublicKeys(t,!0);return super.set(s,r)}get(t){const{publicKey:r}=this._getPublicKeys(t);return super.get(r)}has(t){const{publicKey:r}=this._getPublicKeys(t);return super.has(r)}delete(t){const{publicKey:r,privateKey:s}=this._getPublicKeys(t);return!!(r&&super.delete(r)&&this._publicKeys.delete(s))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new yt;function kt(){}function ae(e,...t){}const wt={debug:(...e)=>ae(console.debug,...e),log:(...e)=>ae(console.log,...e),warn:(...e)=>ae(console.warn,...e),error:(...e)=>ae(console.error,...e)};return(async()=>{try{const{main:e,...t}=ut,r=new ie("reCaptcha",t);return await e(r)}catch(e){throw wt.error('The content script "reCaptcha" crashed on startup!',e),e}})()}();
recaptcha;
