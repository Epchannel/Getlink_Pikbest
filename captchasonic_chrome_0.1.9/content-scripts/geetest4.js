var geetest4=function(){"use strict";function Lt(e){return e}const Ie={equals:(e,t)=>e===t};let We=Me;const ee=1,le=2;var ce=null;let xe=null,Xe=null,M=null,F=null,W=null,ge=0;function ve(e,t){t=t?Object.assign({},Ie,t):Ie;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=n=>(typeof n=="function"&&(n=n(s.value)),Pe(s,n));return[Ve.bind(s),r]}function Ge(e){if(M===null)return e();const t=M;M=null;try{return e()}finally{M=t}}function Ve(){if(this.sources&&this.state)if(this.state===ee)qe(this);else{const e=F;F=null,ue(()=>me(this)),F=e}if(M){const e=this.observers?this.observers.length:0;M.sources?(M.sources.push(this),M.sourceSlots.push(e)):(M.sources=[this],M.sourceSlots=[e]),this.observers?(this.observers.push(M),this.observerSlots.push(M.sources.length-1)):(this.observers=[M],this.observerSlots=[M.sources.length-1])}return this.value}function Pe(e,t,s){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ue(()=>{for(let n=0;n<e.observers.length;n+=1){const a=e.observers[n],u=xe&&xe.running;u&&xe.disposed.has(a),(u?!a.tState:!a.state)&&(a.pure?F.push(a):W.push(a),a.observers&&Fe(a)),u||(a.state=ee)}if(F.length>1e6)throw F=[],new Error})),t}function qe(e){if(!e.fn)return;de(e);const t=ge;He(e,e.value,t)}function He(e,t,s){let r;const n=ce,a=M;M=ce=e;try{r=e.fn(t)}catch(u){return e.pure&&(e.state=ee,e.owned&&e.owned.forEach(de),e.owned=null),e.updatedAt=s+1,Oe(u)}finally{M=a,ce=n}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?Pe(e,r):e.value=r,e.updatedAt=s)}function $e(e){if(e.state===0)return;if(e.state===le)return me(e);if(e.suspense&&Ge(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ge);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===ee)qe(e);else if(e.state===le){const r=F;F=null,ue(()=>me(e,t[0])),F=r}}function ue(e,t){if(F)return e();let s=!1;F=[],W?s=!0:W=[],ge++;try{const r=e();return ze(s),r}catch(r){s||(W=null),F=null,Oe(r)}}function ze(e){if(F&&(Me(F),F=null),e)return;const t=W;W=null,t.length&&ue(()=>We(t))}function Me(e){for(let t=0;t<e.length;t++)$e(e[t])}function me(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const r=e.sources[s];if(r.sources){const n=r.state;n===ee?r!==t&&(!r.updatedAt||r.updatedAt<ge)&&$e(r):n===le&&me(r,t)}}}function Fe(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=le,s.pure?F.push(s):W.push(s),s.observers&&Fe(s))}}function de(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),r=e.sourceSlots.pop(),n=s.observers;if(n&&n.length){const a=n.pop(),u=s.observerSlots.pop();r<n.length&&(a.sourceSlots[u]=r,n[r]=a,s.observerSlots[r]=u)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)de(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)de(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Je(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Oe(e,t=ce){throw Je(e)}const Ze="0.1.9",Qe=(e,t)=>{const s=document.createElement("div");s.style.cssText="position:fixed;top:8%;left:0;background-color:rgba(0,0,0,.6);padding:2px;color:#fff;font:calc(14px + .5vw) 'Arial',sans-serif;font-weight:bold;text-transform:uppercase;letter-spacing:1px;z-index:9999;transition:all 1s;animation:slideIn 1s forwards",s.innerHTML=`<p>${e}. Retrying in..<span id="countdown">${t}</span></p>`,document.body.appendChild(s),(()=>{const a=document.getElementById("countdown");if(!a)return;let u=t;const h=setInterval(()=>{u--,a.textContent=u,u<=0&&clearInterval(h)},1e3)})();const n=document.createElement("style");n.innerHTML="@keyframes slideIn{0%{transform:translateX(-100%)}100%{transform:translateX(0)}}@keyframes slideOut{0%{transform:translateX(0)}100%{transform:translateX(100%)}}",document.head.appendChild(n),setTimeout(()=>{s.style.animation="slideOut 1s forwards",setTimeout(()=>{document.body.removeChild(s)},1e3)},t*1e3)},V=e=>document.querySelector(e),Re=e=>document.querySelectorAll(e);function Ne(){return V(".task-answers")!==null}function Le(){return Re(".task-image .image").length===9}function Be(){return V(".bounding-box-example")!==null}function et(){return V(".challenge-header")!==null&&V(".bounding-box-example")===null&&V(".task-grid")==null}function tt(){const e=document.body.getBoundingClientRect();return e?.width===0||e?.height===0?!1:document.querySelector("div.check")!==null}function H(e){return new Promise(t=>setTimeout(t,e))}function st(e,t){return Math.floor(Math.random()*(t-e)+e)}function rt(){try{const e=document.querySelector("div.check");return e&&e.style.display==="block"}catch(e){return console.error(e),!1}}async function nt(e){const t=await(await fetch(e,{headers:{"if-none-match":'"CFDAD5AA0CE4A3068FF1CABAC59E4D9D"'},host:"https://domain.com"})).blob();return await ot(t)}async function ot(e){return new Promise(t=>{const s=new FileReader;s.readAsDataURL(e),s.addEventListener("loadend",()=>{const r=s.result.replace(/^data:image\/(png|jpeg);base64,/,"");t(r)}),s.addEventListener("error",()=>{logs&&console.log("❌ Failed to convert url to base64")})})}async function Ue(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch the URL: ${e}`);const s=await t.blob();return new Promise((r,n)=>{const a=new FileReader;a.readAsDataURL(s),a.addEventListener("loadend",()=>{r(a.result.replace(/^data:image\/(png|jpeg);base64,/,""))}),a.addEventListener("error",()=>{console.error("❌ Failed to read blob as base64"),n("Failed to read blob")})})}catch(t){return console.error(`❌ Failed to convert URL to base64: ${e}`,t),null}}function at(){document.querySelectorAll("iframe").forEach(t=>{t.src=t.src})}async function it(){Be()?(await H(200),document.querySelector(".display-language.button").click(),await H(100),document.querySelector(".language-selector .option:nth-child(23)").click()):Le()?(await H(100),document.querySelector(".language-selector .option:nth-child(23)").click()):Ne()&&(document.querySelector(".display-language.button").click(),await H(200),document.querySelector(".language-selector .option:nth-child(23)").click(),await H(200))}function lt(){document.querySelector(".button-submit").click()}async function ct(){const e=navigator.userAgent;let t,s=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(s[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],`IE ${t[1]||""}`):s[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!=null)?t.slice(1).join(" ").replace("OPR","Opera"):(s=s[2]?[s[1],s[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!=null&&s.splice(1,1,t[1]),{version:s,platform:navigator.platform})}function gt(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function Ee(e){["mouseover","mousedown","mouseup","click"].forEach(t=>{if(e.fireEvent)e.fireEvent("on"+t);else{const s=document.createEvent("MouseEvents");s.initEvent(t,!0,!1),e.dispatchEvent(s)}})}function ke(e,t,s,r,n,a,u){e.dispatchEvent(new MouseEvent(t,{bubbles:!0,clientX:s,clientY:r,buttons:n,button:a,pressure:u}))}async function ut(e,t){const s=document.querySelector("canvas");if(e!==void 0)for(const{start:r,end:n}of e)if(Array.isArray(r)&&r.length!==0&&Array.isArray(n)&&n.length!==0){const[a,u]=r,[h,E]=n,k=s.getBoundingClientRect(),y=a+k.left,v=u+k.top,T=h+k.left,S=E+k.top;ke(s,"mousedown",y,v,1,0,1),await new Promise(K=>setTimeout(K,t));const I=T-y,P=S-v,D=Math.sqrt(I**2+P**2),R=Math.round(D/6),X=I/R,z=P/R;for(let K=1;K<=R;K++){const G=y+X*K,i=v+z*K;ke(s,"mousemove",G,i,1,0,1),await new Promise(l=>setTimeout(l,50))}ke(s,"mouseup",T,S,0,0,0)}else d.$(".button-submit").click();else d.$(".button-submit").click()}async function mt(e){function t(a,u,h){const E=a.getBoundingClientRect(),k=["mouseover","mousedown","mouseup","click"],y={clientX:u+E.left,clientY:h+E.top,bubbles:!0};for(let v=0;v<k.length;v++){const T=new MouseEvent(k[v],y);a.dispatchEvent(T)}}const s=document.querySelector("canvas");s.addEventListener("mousedown",a=>{const u=s.getBoundingClientRect();a.clientX-u.left,a.clientY-u.top});const[r,n]=e;t(s,r,n),await d.sleep(300)}async function dt(e,t){const s=(await chrome.storage.local.get("customEndpoint")).customEndpoint;return t==="custom"?`https://${s}/${e}`:"https://api.captchasonic.com/createTask"}async function ft(e){for(const t of e){const s=[...document.querySelectorAll(".answer-text")].find(r=>r.outerText===t);Ee(s),[...document.querySelectorAll(".answer-example")].some(r=>r.style.backgroundColor==="rgb(116, 116, 116)")||Ee(s)}}async function ht(){const e=document.querySelector("canvas");if(!e)return null;const[t,s]=[e.width,e.height],n=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,t,s,{willReadFrequently:!0});if((S=>{const I=S.data;for(let P=0;P<I.length;P+=4){const D=I[P],R=I[P+1],X=I[P+2];if(D!==R||R!==X)return!1}return!0})(n))return null;const u=parseInt(e.style.width,10),h=parseInt(e.style.height,10);if(u<=0||h<=0)return null;const E=Math.min(u/t,h/s),[k,y]=[t*E,s*E],v=document.createElement("canvas");return Object.assign(v,{width:k,height:y}),v.getContext("2d",{willReadFrequently:!0}).drawImage(e,0,0,t,s,0,0,k,y),v.toDataURL("image/jpeg").replace(/^data:image\/(png|jpeg);base64,/,"")}function At(e){return[...document.querySelectorAll(`${e}`)].map(t=>t.style.backgroundImage.replace(/url\("|"\)/g,""))}function pt(e){return Promise.all(e.map(async(t,s)=>(e[s]=await Ue(t),e[s])))}async function bt(e,t,s){const r=e.getBoundingClientRect(),n=r.left+window.scrollX,a=r.top+window.scrollY,u=n+t,h=a+s,E=new MouseEvent("mousedown",{clientX:n,clientY:a,bubbles:!0});e.dispatchEvent(E),await new Promise(S=>setTimeout(S,1e3));const k=20,y=(u-n)/k,v=(h-a)/k;for(let S=1;S<=k;S++){const I=n+y*S,P=a+v*S,D=new MouseEvent("mousemove",{clientX:I,clientY:P,bubbles:!0});e.dispatchEvent(D),await new Promise(R=>setTimeout(R,150))}const T=new MouseEvent("mouseup",{clientX:u,clientY:h,bubbles:!0});e.dispatchEvent(T),await new Promise(S=>setTimeout(S,1e3))}async function wt(e,t,s){try{const n=await(await fetch(e,{method:"POST",headers:s,body:JSON.stringify(t)})).json();if(n.code!==200){const a=n.msg;if(a){if(n.code===1||n.code===10||n.code===18||n.code===110){chrome.runtime.sendMessage({action:a}),stop=!0;return}if(n.code===17||n.code===19||n.code===429){chrome.runtime.sendMessage({action:a}),stop=!0;return}if([4,3,12,13,14,115].includes(n.code))return document.querySelector(".geetest_refresh").click(),null}}return n}catch(r){throw console.error("Error fetching coordinates:",r),r}}async function yt(e){try{const t=await fetch("https://feedback.captchasonic.com/extFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const s=await t.json();return console.log("Success:",s),s}catch(t){return console.error("Error sending feedback:",t),null}}function xt(e,t){const s=document.querySelector(e);if(!s){console.warn(`Element not found: ${e}`);return}return new MutationObserver(n=>{n.forEach(a=>{if(a.attributeName==="aria-hidden"){const u=s.getAttribute("aria-hidden")==="true";window.postMessage({type:"ariaHiddenChange",value:u},"*"),typeof t=="function"&&t(u)}})}).observe(s,{attributes:!0,attributeFilter:["aria-hidden"]}),s.getAttribute("aria-hidden")==="true"}function vt(e,t){const s=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,r=>{r[`${e}_solved`],chrome.storage.local.get([s],n=>{const a=n[s]||[];if(a.some(h=>h.fail_report===!0)){const h=a.map(y=>y.data),k={type:"feedback",payload:{apiKey:t,data:h,pass:!1}};h.length>0&&chrome.runtime.sendMessage(k,y=>{chrome.storage.local.remove([s,`${e}_solved`,`${e}_feedback`,`${e}_hasRun`],()=>{})})}chrome.storage.local.remove([s,`${e}_solved`],()=>{})})})}function Et(e,t){const s=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,r=>{r[`${e}_solved`],chrome.storage.local.get([s],n=>{const a=n[s]||[];if(a.some(h=>h.pass_report===!0)){const h=a.map(y=>y.data),k={type:"feedback",payload:{apiKey:t,data:h,pass:!0}};h.length>0&&chrome.runtime.sendMessage(k,y=>{chrome.storage.local.remove([s,`${e}_solved`,`${e}_feedback`],()=>{})})}chrome.storage.local.remove([s,`${e}_solved`],()=>{})})})}const d={version:Ze,$:V,$$:Re,isMulti:Ne,isGrid:Le,isBbox:Be,isBboxDD:et,isWidget:tt,sleep:H,randTimer:st,isSolved:rt,countdownNotif:Qe,getBase64FromUrl:Ue,refreshIframes:at,getEn:it,skip:lt,getBrowser:ct,shuffle:gt,fireMouseEvents:Ee,getCanvas:mt,handleCanvasDD:ut,getApi:dt,clickMatchingElement:ft,sliceOG:ht,updateExamples:pt,getExamples:At,solveGeetestCaptcha:bt,sendCoordinatesRequest:wt,geeFetchImage:nt,sendFeedback:yt,observeAriaHidden:xt,handleCaptchaFeedback:vt,handleCaptchaFeedbackOnSuccess:Et};async function kt(e,t,s){if(!e()||e().ACTIVE===!1||e().OPTIONS[s].ENABLED===!1)return!1;function r(u,h){try{return h.includes(u)}catch(E){return console.error("Error parsing URLs:",E),!1}}const n=e().BLACKLIST;return!(r(t(),n)&&e().BLACKLISTENABLED)}const St={matches:["<all_urls>"],allFrames:!0,match_about_blank:!1,async main(){const[e]=ve(window.location.host),[t,s]=ve(await chrome.storage.local.get("settings"));s(t().settings);const[r,n]=ve(null);await kt(t,e,"GEETEST")&&(async()=>{let h,E=!1;const k={"Content-Type":"application/json"};let y=null,v=null,T=null;const S=()=>!navigator.onLine||t().APIKEY===void 0||t().APIKEY===""||t().ACTIVE===!1||t().OPTIONS.GEETEST.ENABLED===!1;let I,P;if(window.geetestInjected)return;window.geetestInjected=!0;let D=null;for((()=>{let o=2,g=0;const c=new MutationObserver(m=>{for(const w of m)if(w.type==="attributes"&&w.attributeName==="class"){const L=w.target.className.split(" ").filter(Boolean),B=L[L.length-1];(B==="geetest_fail"||B==="geetest_success")&&g++,B==="geetest_success"&&g===o&&(d.handleCaptchaFeedbackOnSuccess(T,t().APIKEY),g=0),g===o&&(d.handleCaptchaFeedback(T,t().APIKEY),g=0)}}),A=()=>{const m=document.querySelectorAll("[class*='geetest_captcha']");if(m.length===0)return;const w=m[m.length-1];c.observe(w,{attributes:!0,attributeFilter:["class"]})};new MutationObserver(()=>{A()}).observe(document.body,{childList:!0,subtree:!0}),A()})();!S();){await d.sleep(1e3);let o=d.$$(".geetest_btn_click"),g=o[o.length-1];g&&t().OPTIONS.GEETEST.AUTOOPEN===!0&&t()?.AUTOOPENENABLED===!0&&g.click(),await d.sleep(2e3);let c=null,A=null,x=null,m=null,w=null;async function U(){const b=document.querySelectorAll("script");for(const C of b)if(C.src.includes("load?callback")){const N=new URL(C.src).searchParams;return n(N.get("captcha_id")),T=N.get("challenge"),{captchaId:N.get("captcha_id"),challenge:T}}return null}(async()=>{const b=await U();b&&(n(b.captchaId),T=b.challenge)})();const L=d.$$(".geetest_wrap");if(L.length>0){const b=L[L.length-1];c=b.querySelector("div.geetest_subitem.geetest_slide"),A=b.querySelector("div.geetest_subitem.geetest_click"),x=L[L.length-1].querySelector("div.geetest_subitem.geetest_match"),m=b.querySelector("div.geetest_subitem.geetest_winlinze"),w=b.querySelector(".geetest_subitem.geetest_nine")}c?v="geetest_slide":A?v="geetest_click":x?v="geetest_match":m?v="geetest_winlinze":w&&(v="geetest_nine");const B=document.querySelector(".geetest_text_tips");if(B&&(y=B.textContent.trim()),c&&t()?.OPTIONS?.GEETEST?.AUTOSOLVE===!0&&await R()){const b=d.$$("div.geetest_bg"),C=b[b.length-1],N=i(C.style.backgroundImage),j=d.$$("div.geetest_slice_bg"),J=j[j.length-1],te=i(J.style.backgroundImage);N&&te?(I=await d.geeFetchImage(N),P=await d.geeFetchImage(te)):console.error("One or both image URLs are missing.");const se=d.$$("div.geetest_box_wrap"),be=se[se.length-1];if(be&&be.style.display==="block"){if(!I||!P){console.error("Base64 images are missing or invalid.");return}const we={apiKey:t().APIKEY,source:"chrome",version:d.version,appID:0,task:{captchaId:r(),type:"GeetestImage",queries:[I],examples:[P],question:`${v}:${y}`,websiteURL:e()}};let Q;try{Q=await l(we)}catch(Y){console.error("Failed to retrieve coordinates:",Y)}const re=d.$$("div.geetest_slice_bg"),ne=re[re.length-1];ne&&Q!=null&&(await d.solveGeetestCaptcha(ne,Q.answers[0],Q.answers[1]),h=(h-Date.now())/1e3,await d.sleep(1e3),E=await q(".geetest_result_tips"),await O())}}else if(A&&t()?.OPTIONS?.GEETEST?.AUTOSOLVE===!0&&await R()){if(!A)return;try{const b=await G(),C=await l(b);if(C)if(C.answers)await f(C.answers,300),await p(),await _(),await O();else{let N=document.querySelectorAll(".geetest_refresh");N[N.length-1].click()}}catch(b){console.log("Captcha processing failed:",b)}}else if(x)document.querySelectorAll('div[class*="geetest_item_"]').forEach(C=>{Array.from(C.classList).find(j=>j.startsWith("geetest_item_")).split("_").pop()}),await d.sleep(3e3),E=await q(".geetest_result_tips");else if(m){const b=document.querySelectorAll(".geetest_itemimg"),C=[];b.forEach(N=>{const j=N.style.backgroundImage;if(j){const J=j.match(/img_winlinze_(\d+)\.png/);J?C.push(parseInt(J[1],10)):C.push(0)}else C.push(0)}),await d.sleep(2e3),await d.sleep(3e3),E=await q(".geetest_result_tips")}else if(w&&t()?.OPTIONS?.GEETEST?.AUTOSOLVE===!0&&await R())try{const b=await X(),C=await z();if(!b||b.length===0||!C)throw new Error("Failed to retrieve image URLs or question image URL.");const N=await d.geeFetchImage(b[0]),j=await d.geeFetchImage(C);if(!N||!j)throw new Error("Failed to fetch images in base64 format.");const J=async($,Z=3,we=3)=>new Promise((Q,re)=>{const ne="data:image/jpeg;base64,";$.startsWith("data:image")||($=ne+$);const Y=new Image;Y.src=$,Y.onload=()=>{try{const oe=Y.width,Rt=Y.height,ae=oe/we,ie=Rt/Z,ye=document.createElement("canvas"),je=ye.getContext("2d"),Ye=[];for(let Ce=0;Ce<Z;Ce++)for(let Te=0;Te<we;Te++){ye.width=ae,ye.height=ie,je.clearRect(0,0,ae,ie),je.drawImage(Y,Te*ae,Ce*ie,ae,ie,0,0,ae,ie);const Nt=ye.toDataURL("image/jpeg").replace(ne,"");Ye.push(Nt)}Q(Ye)}catch(oe){re("Error slicing image: "+oe.message)}},Y.onerror=oe=>re("Error loading image: "+oe.message)});let te=[];try{let $=await J(N);if(JSON.stringify($)===JSON.stringify(D)){let Z=document.querySelectorAll(".geetest_refresh");Z[Z.length-1].click()}else te=[...$],D=[...$]}catch($){console.error("Failed to slice base64 image:",$);return}const se=t().APIKEY;if(!se)throw new Error("API key is missing. Please configure the API key.");const be={apiKey:se,source:"chrome",version:d.version,appID:0,task:{type:"GeetestImage",captchaId:r(),queries:te,examples:[j],question:`${v}:${y}`,websiteURL:e()}};try{const $=await l(be);(!$||!$.answers)&&console.error("Invalid response received:",$),await d.sleep(2e3),await K($.answers),h=(h-Date.now())/1e3,await _(),await O()}catch($){console.error("An error occurred:",$)}}catch(b){console.error("Error processing geetestNine:",b)}}async function R(){return!!document.querySelector(".geetest_freeze_wait")}async function X(){const o=document.querySelectorAll("div.geetest_imgs0.geetest_item_img");let g=[],c=o[o.length-1].getAttribute("style");const A=c?c.match(/url\("([^"]+)"\)/):null;return A&&g.push(A[1]),g}async function z(){const o=document.querySelectorAll("div.geetest_ques_tips.geetest_ques_back");if(o){const g=o[o.length-1].querySelector("img");return g?g.src:null}return null}async function K(o){const g=Array.from(document.querySelectorAll(".geetest_item")).slice(-9);for(let c=0;c<o.length;c++)if(o[c]&&g[c]){const x=g[c].querySelectorAll(`.geetest_ghost_${c}`);x?(x[x.length-1].click(),await d.sleep(300)):console.log(`No element found for .geetest_ghost_${c}`)}}async function G(){const o={apiKey:t().APIKEY,source:"chrome",version:d.version,appID:0,task:{type:"GeetestImage",captchaId:r(),queries:[],examples:[],question:`${v}:${y}`,websiteURL:e()}},g=document.querySelectorAll("div.geetest_bg"),c=g[g.length-1];if(c){const m=i(c.style.backgroundImage),w=await d.geeFetchImage(m);o.task.queries.push(w)}const A=document.querySelectorAll(".geetest_ques_tips.geetest_ques_back"),x=A[A.length-1];if(x){const m=Array.from(x.querySelectorAll("img")).slice(-3),w=await Promise.all(m.map(U=>d.geeFetchImage(U.src)));o.task.examples=w}else console.warn("Image container not found.");return o}function i(o){const g=o.match(/"([^"]*)"/);return g?g[1]:null}async function l(o){return h=Date.now(),new Promise((g,c)=>{try{const A={type:"networkRequest",payload:{url:"https://api.captchasonic.com/createTask",method:"POST",headers:k,body:JSON.stringify(o)}};chrome.runtime.sendMessage(A,async x=>{if(x.success){const m=x.data;if(m.code!==200){const w=m.msg;if(w){if(m.code===1||m.code===10||m.code===18||x.code===110){chrome.runtime.sendMessage({action:w}),E=!0;return}if(m.code===17||m.code===19||m.code===429){chrome.runtime.sendMessage({action:w}),E=!0;return}if([4,3,12,13,14,115].includes(m.code)){let U=document.querySelectorAll(".geetest_refresh");return U[U.length-1].click(),g(null)}}}else if(m.code===200)return m.meta&&T&&function(U,L){const B=`${U}_feedback`;chrome.storage.local.get([B],b=>{const C=b[B]||[];C.push(L),chrome.storage.local.set({[B]:C})})}(T,m.meta),g(m)}else console.error("Error for Request 2:",x.error)})}catch(A){return console.error("Error fetching coordinates:",A),c(A)}})}async function f(o,g){const c=d.$$(".geetest_bg"),A=c[c.length-1];if(!A)return;const x=A.getBoundingClientRect();for(const m of o)if(m.length>0)for(const w of m){const U=x.left+w.x,L=x.top+w.y;await d.sleep(300);const B=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:U,clientY:L});A.dispatchEvent(B),await d.sleep(g)}else{let w=document.querySelectorAll(".geetest_refresh");w[w.length-1].click()}}async function p(){const o=d.$$(".geetest_submit"),g=o[o.length-1];g&&g.click()}async function _(){await d.sleep(2e3);const o=d.$$(".geetest_result_tips"),g=o[o.length-1];g&&g.textContent.trim().length>0&&(E=!0)}async function q(o,g=3e3){const c=d.$$(o);return!!(c&&c.length>0&&c[c.length-1].textContent.trim().includes("%"))}async function O(){await q("div.geetest_result_tips")}})()}};function _t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fe={exports:{}},Ct=fe.exports,De;function Tt(){return De||(De=1,function(e,t){(function(s,r){r(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Ct,function(s){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)s.exports=globalThis.browser;else{const r="The message port closed before a response was received.",n=a=>{const u={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(u).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class h extends WeakMap{constructor(l,f=void 0){super(f),this.createItem=l}get(l){return this.has(l)||this.set(l,this.createItem(l)),super.get(l)}}const E=i=>i&&typeof i=="object"&&typeof i.then=="function",k=(i,l)=>(...f)=>{a.runtime.lastError?i.reject(new Error(a.runtime.lastError.message)):l.singleCallbackArg||f.length<=1&&l.singleCallbackArg!==!1?i.resolve(f[0]):i.resolve(f)},y=i=>i==1?"argument":"arguments",v=(i,l)=>function(p,..._){if(_.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${y(l.minArgs)} for ${i}(), got ${_.length}`);if(_.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${y(l.maxArgs)} for ${i}(), got ${_.length}`);return new Promise((q,O)=>{if(l.fallbackToNoCallback)try{p[i](..._,k({resolve:q,reject:O},l))}catch(o){console.warn(`${i} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),p[i](..._),l.fallbackToNoCallback=!1,l.noCallback=!0,q()}else l.noCallback?(p[i](..._),q()):p[i](..._,k({resolve:q,reject:O},l))})},T=(i,l,f)=>new Proxy(l,{apply(p,_,q){return f.call(_,i,...q)}});let S=Function.call.bind(Object.prototype.hasOwnProperty);const I=(i,l={},f={})=>{let p=Object.create(null),_={has(O,o){return o in i||o in p},get(O,o,g){if(o in p)return p[o];if(!(o in i))return;let c=i[o];if(typeof c=="function")if(typeof l[o]=="function")c=T(i,i[o],l[o]);else if(S(f,o)){let A=v(o,f[o]);c=T(i,i[o],A)}else c=c.bind(i);else if(typeof c=="object"&&c!==null&&(S(l,o)||S(f,o)))c=I(c,l[o],f[o]);else if(S(f,"*"))c=I(c,l[o],f["*"]);else return Object.defineProperty(p,o,{configurable:!0,enumerable:!0,get(){return i[o]},set(A){i[o]=A}}),c;return p[o]=c,c},set(O,o,g,c){return o in p?p[o]=g:i[o]=g,!0},defineProperty(O,o,g){return Reflect.defineProperty(p,o,g)},deleteProperty(O,o){return Reflect.deleteProperty(p,o)}},q=Object.create(i);return new Proxy(q,_)},P=i=>({addListener(l,f,...p){l.addListener(i.get(f),...p)},hasListener(l,f){return l.hasListener(i.get(f))},removeListener(l,f){l.removeListener(i.get(f))}}),D=new h(i=>typeof i!="function"?i:function(f){const p=I(f,{},{getContent:{minArgs:0,maxArgs:0}});i(p)}),R=new h(i=>typeof i!="function"?i:function(f,p,_){let q=!1,O,o=new Promise(x=>{O=function(m){q=!0,x(m)}}),g;try{g=i(f,p,O)}catch(x){g=Promise.reject(x)}const c=g!==!0&&E(g);if(g!==!0&&!c&&!q)return!1;const A=x=>{x.then(m=>{_(m)},m=>{let w;m&&(m instanceof Error||typeof m.message=="string")?w=m.message:w="An unexpected error occurred",_({__mozWebExtensionPolyfillReject__:!0,message:w})}).catch(m=>{console.error("Failed to send onMessage rejected reply",m)})};return A(c?g:o),!0}),X=({reject:i,resolve:l},f)=>{a.runtime.lastError?a.runtime.lastError.message===r?l():i(new Error(a.runtime.lastError.message)):f&&f.__mozWebExtensionPolyfillReject__?i(new Error(f.message)):l(f)},z=(i,l,f,...p)=>{if(p.length<l.minArgs)throw new Error(`Expected at least ${l.minArgs} ${y(l.minArgs)} for ${i}(), got ${p.length}`);if(p.length>l.maxArgs)throw new Error(`Expected at most ${l.maxArgs} ${y(l.maxArgs)} for ${i}(), got ${p.length}`);return new Promise((_,q)=>{const O=X.bind(null,{resolve:_,reject:q});p.push(O),f.sendMessage(...p)})},K={devtools:{network:{onRequestFinished:P(D)}},runtime:{onMessage:P(R),onMessageExternal:P(R),sendMessage:z.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:z.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},G={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return u.privacy={network:{"*":G},services:{"*":G},websites:{"*":G}},I(a,K,u)};s.exports=n(chrome)}})}(fe)),fe.exports}var It=Tt();const Ke=_t(It);function he(e,...t){}const Pt={debug:(...e)=>he(console.debug,...e),log:(...e)=>he(console.log,...e),warn:(...e)=>he(console.warn,...e),error:(...e)=>he(console.error,...e)};class Se extends Event{constructor(t,s){super(Se.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=s}static EVENT_NAME=_e("wxt:locationchange")}function _e(e){return`${Ke?.runtime?.id}:geetest4:${e}`}function qt(e){let t,s;return{run(){t==null&&(s=new URL(location.href),t=e.setInterval(()=>{let r=new URL(location.href);r.href!==s.href&&(window.dispatchEvent(new Se(r,s)),s=r)},1e3))}}}class Ae{constructor(t,s){this.contentScriptName=t,this.options=s,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=_e("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=qt(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return Ke.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,s){const r=setInterval(()=>{this.isValid&&t()},s);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,s){const r=setTimeout(()=>{this.isValid&&t()},s);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const s=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(s)),s}requestIdleCallback(t,s){const r=requestIdleCallback((...n)=>{this.signal.aborted||t(...n)},s);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,s,r,n){s==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(s.startsWith("wxt:")?_e(s):s,r,{...n,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),Pt.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:Ae.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const s=t.data?.type===Ae.SCRIPT_STARTED_MESSAGE_TYPE,r=t.data?.contentScriptName===this.contentScriptName,n=!this.receivedMessageIds.has(t.data?.messageId);return s&&r&&n}listenForNewerScripts(t){let s=!0;const r=n=>{if(this.verifyScriptStartedEvent(n)){this.receivedMessageIds.add(n.data.messageId);const a=s;if(s=!1,a&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}}const $t=Symbol("null");let Mt=0;class Ft extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[s,r]of t)this.set(s,r)}}_getPublicKeys(t,s=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const r=this._getPrivateKey(t,s);let n;return r&&this._publicKeys.has(r)?n=this._publicKeys.get(r):s&&(n=[...t],this._publicKeys.set(r,n)),{privateKey:r,publicKey:n}}_getPrivateKey(t,s=!1){const r=[];for(let n of t){n===null&&(n=$t);const a=typeof n=="object"||typeof n=="function"?"_objectHashes":typeof n=="symbol"?"_symbolHashes":!1;if(!a)r.push(n);else if(this[a].has(n))r.push(this[a].get(n));else if(s){const u=`@@mkm-ref-${Mt++}@@`;this[a].set(n,u),r.push(u)}else return!1}return JSON.stringify(r)}set(t,s){const{publicKey:r}=this._getPublicKeys(t,!0);return super.set(r,s)}get(t){const{publicKey:s}=this._getPublicKeys(t);return super.get(s)}has(t){const{publicKey:s}=this._getPublicKeys(t);return super.has(s)}delete(t){const{publicKey:s,privateKey:r}=this._getPublicKeys(t);return!!(s&&super.delete(s)&&this._publicKeys.delete(r))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new Ft;function Dt(){}function pe(e,...t){}const Ot={debug:(...e)=>pe(console.debug,...e),log:(...e)=>pe(console.log,...e),warn:(...e)=>pe(console.warn,...e),error:(...e)=>pe(console.error,...e)};return(async()=>{try{const{main:e,...t}=St,s=new Ae("geetest4",t);return await e(s)}catch(e){throw Ot.error('The content script "geetest4" crashed on startup!',e),e}})()}();
geetest4;
