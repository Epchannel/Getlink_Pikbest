var awswaf=function(){"use strict";function ft(e){return e}globalThis.browser?.runtime?.id==null?globalThis.chrome:globalThis.browser;const ae={equals:(e,t)=>e===t};let xe=ge;const W=1,K=2;var j=null;let ee=null,ve=null,k=null,_=null,N=null,Y=0;function ie(e,t){t=t?Object.assign({},ae,t):ae;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=n=>(typeof n=="function"&&(n=n(r.value)),ce(r,n));return[Ee.bind(r),s]}function Se(e){if(k===null)return e();const t=k;k=null;try{return e()}finally{k=t}}function Ee(){if(this.sources&&this.state)if(this.state===W)le(this);else{const e=_;_=null,X(()=>H(this)),_=e}if(k){const e=this.observers?this.observers.length:0;k.sources?(k.sources.push(this),k.sourceSlots.push(e)):(k.sources=[this],k.sourceSlots=[e]),this.observers?(this.observers.push(k),this.observerSlots.push(k.sources.length-1)):(this.observers=[k],this.observerSlots=[k.sources.length-1])}return this.value}function ce(e,t,r){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&X(()=>{for(let n=0;n<e.observers.length;n+=1){const a=e.observers[n],l=ee&&ee.running;l&&ee.disposed.has(a),(l?!a.tState:!a.state)&&(a.pure?_.push(a):N.push(a),a.observers&&me(a)),l||(a.state=W)}if(_.length>1e6)throw _=[],new Error})),t}function le(e){if(!e.fn)return;z(e);const t=Y;ke(e,e.value,t)}function ke(e,t,r){let s;const n=j,a=k;k=j=e;try{s=e.fn(t)}catch(l){return e.pure&&(e.state=W,e.owned&&e.owned.forEach(z),e.owned=null),e.updatedAt=r+1,de(l)}finally{k=a,j=n}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?ce(e,s):e.value=s,e.updatedAt=r)}function ue(e){if(e.state===0)return;if(e.state===K)return H(e);if(e.suspense&&Se(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Y);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===W)le(e);else if(e.state===K){const s=_;_=null,X(()=>H(e,t[0])),_=s}}function X(e,t){if(_)return e();let r=!1;_=[],N?r=!0:N=[],Y++;try{const s=e();return Ce(r),s}catch(s){r||(N=null),_=null,de(s)}}function Ce(e){if(_&&(ge(_),_=null),e)return;const t=N;N=null,t.length&&X(()=>xe(t))}function ge(e){for(let t=0;t<e.length;t++)ue(e[t])}function H(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const s=e.sources[r];if(s.sources){const n=s.state;n===W?s!==t&&(!s.updatedAt||s.updatedAt<Y)&&ue(s):n===K&&H(s,t)}}}function me(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=K,r.pure?_.push(r):N.push(r),r.observers&&me(r))}}function z(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),s=e.sourceSlots.pop(),n=r.observers;if(n&&n.length){const a=n.pop(),l=r.observerSlots.pop();s<n.length&&(a.sourceSlots[l]=s,n[s]=a,r.observerSlots[s]=l)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)z(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)z(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Te(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function de(e,t=j){throw Te(e)}const _e="0.1.9",Me=(e,t)=>{const r=document.createElement("div");r.style.cssText="position:fixed;top:8%;left:0;background-color:rgba(0,0,0,.6);padding:2px;color:#fff;font:calc(14px + .5vw) 'Arial',sans-serif;font-weight:bold;text-transform:uppercase;letter-spacing:1px;z-index:9999;transition:all 1s;animation:slideIn 1s forwards",r.innerHTML=`<p>${e}. Retrying in..<span id="countdown">${t}</span></p>`,document.body.appendChild(r),(()=>{const a=document.getElementById("countdown");if(!a)return;let l=t;const h=setInterval(()=>{l--,a.textContent=l,l<=0&&clearInterval(h)},1e3)})();const n=document.createElement("style");n.innerHTML="@keyframes slideIn{0%{transform:translateX(-100%)}100%{transform:translateX(0)}}@keyframes slideOut{0%{transform:translateX(0)}100%{transform:translateX(100%)}}",document.head.appendChild(n),setTimeout(()=>{r.style.animation="slideOut 1s forwards",setTimeout(()=>{document.body.removeChild(r)},1e3)},t*1e3)},D=e=>document.querySelector(e),fe=e=>document.querySelectorAll(e);function he(){return D(".task-answers")!==null}function Ae(){return fe(".task-image .image").length===9}function pe(){return D(".bounding-box-example")!==null}function Pe(){return D(".challenge-header")!==null&&D(".bounding-box-example")===null&&D(".task-grid")==null}function Ie(){const e=document.body.getBoundingClientRect();return e?.width===0||e?.height===0?!1:document.querySelector("div.check")!==null}function B(e){return new Promise(t=>setTimeout(t,e))}function Fe(e,t){return Math.floor(Math.random()*(t-e)+e)}function Re(){try{const e=document.querySelector("div.check");return e&&e.style.display==="block"}catch(e){return console.error(e),!1}}async function $e(e){const t=await(await fetch(e,{headers:{"if-none-match":'"CFDAD5AA0CE4A3068FF1CABAC59E4D9D"'},host:"https://domain.com"})).blob();return await qe(t)}async function qe(e){return new Promise(t=>{const r=new FileReader;r.readAsDataURL(e),r.addEventListener("loadend",()=>{const s=r.result.replace(/^data:image\/(png|jpeg);base64,/,"");t(s)}),r.addEventListener("error",()=>{logs&&console.log("❌ Failed to convert url to base64")})})}async function be(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch the URL: ${e}`);const r=await t.blob();return new Promise((s,n)=>{const a=new FileReader;a.readAsDataURL(r),a.addEventListener("loadend",()=>{s(a.result.replace(/^data:image\/(png|jpeg);base64,/,""))}),a.addEventListener("error",()=>{console.error("❌ Failed to read blob as base64"),n("Failed to read blob")})})}catch(t){return console.error(`❌ Failed to convert URL to base64: ${e}`,t),null}}function Oe(){document.querySelectorAll("iframe").forEach(t=>{t.src=t.src})}async function Le(){pe()?(await B(200),document.querySelector(".display-language.button").click(),await B(100),document.querySelector(".language-selector .option:nth-child(23)").click()):Ae()?(await B(100),document.querySelector(".language-selector .option:nth-child(23)").click()):he()&&(document.querySelector(".display-language.button").click(),await B(200),document.querySelector(".language-selector .option:nth-child(23)").click(),await B(200))}function Ne(){document.querySelector(".button-submit").click()}async function Ue(){const e=navigator.userAgent;let t,r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],`IE ${t[1]||""}`):r[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!=null)?t.slice(1).join(" ").replace("OPR","Opera"):(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!=null&&r.splice(1,1,t[1]),{version:r,platform:navigator.platform})}function De(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}function te(e){["mouseover","mousedown","mouseup","click"].forEach(t=>{if(e.fireEvent)e.fireEvent("on"+t);else{const r=document.createEvent("MouseEvents");r.initEvent(t,!0,!1),e.dispatchEvent(r)}})}function re(e,t,r,s,n,a,l){e.dispatchEvent(new MouseEvent(t,{bubbles:!0,clientX:r,clientY:s,buttons:n,button:a,pressure:l}))}async function Be(e,t){const r=document.querySelector("canvas");if(e!==void 0)for(const{start:s,end:n}of e)if(Array.isArray(s)&&s.length!==0&&Array.isArray(n)&&n.length!==0){const[a,l]=s,[h,v]=n,b=r.getBoundingClientRect(),w=a+b.left,C=l+b.top,R=h+b.left,S=v+b.top;re(r,"mousedown",w,C,1,0,1),await new Promise(c=>setTimeout(c,t));const M=R-w,T=S-C,O=Math.sqrt(M**2+T**2),P=Math.round(O/6),L=M/P,d=T/P;for(let c=1;c<=P;c++){const A=w+L*c,o=C+d*c;re(r,"mousemove",A,o,1,0,1),await new Promise(i=>setTimeout(i,50))}re(r,"mouseup",R,S,0,0,0)}else $.$(".button-submit").click();else $.$(".button-submit").click()}async function We(e){function t(a,l,h){const v=a.getBoundingClientRect(),b=["mouseover","mousedown","mouseup","click"],w={clientX:l+v.left,clientY:h+v.top,bubbles:!0};for(let C=0;C<b.length;C++){const R=new MouseEvent(b[C],w);a.dispatchEvent(R)}}const r=document.querySelector("canvas");r.addEventListener("mousedown",a=>{const l=r.getBoundingClientRect();a.clientX-l.left,a.clientY-l.top});const[s,n]=e;t(r,s,n),await $.sleep(300)}async function Ke(e,t){const r=(await chrome.storage.local.get("customEndpoint")).customEndpoint;return t==="custom"?`https://${r}/${e}`:"https://api.captchasonic.com/createTask"}async function je(e){for(const t of e){const r=[...document.querySelectorAll(".answer-text")].find(s=>s.outerText===t);te(r),[...document.querySelectorAll(".answer-example")].some(s=>s.style.backgroundColor==="rgb(116, 116, 116)")||te(r)}}async function Ye(){const e=document.querySelector("canvas");if(!e)return null;const[t,r]=[e.width,e.height],n=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,t,r,{willReadFrequently:!0});if((S=>{const M=S.data;for(let T=0;T<M.length;T+=4){const O=M[T],P=M[T+1],L=M[T+2];if(O!==P||P!==L)return!1}return!0})(n))return null;const l=parseInt(e.style.width,10),h=parseInt(e.style.height,10);if(l<=0||h<=0)return null;const v=Math.min(l/t,h/r),[b,w]=[t*v,r*v],C=document.createElement("canvas");return Object.assign(C,{width:b,height:w}),C.getContext("2d",{willReadFrequently:!0}).drawImage(e,0,0,t,r,0,0,b,w),C.toDataURL("image/jpeg").replace(/^data:image\/(png|jpeg);base64,/,"")}function Xe(e){return[...document.querySelectorAll(`${e}`)].map(t=>t.style.backgroundImage.replace(/url\("|"\)/g,""))}function He(e){return Promise.all(e.map(async(t,r)=>(e[r]=await be(t),e[r])))}async function ze(e,t,r){const s=e.getBoundingClientRect(),n=s.left+window.scrollX,a=s.top+window.scrollY,l=n+t,h=a+r,v=new MouseEvent("mousedown",{clientX:n,clientY:a,bubbles:!0});e.dispatchEvent(v),await new Promise(S=>setTimeout(S,1e3));const b=20,w=(l-n)/b,C=(h-a)/b;for(let S=1;S<=b;S++){const M=n+w*S,T=a+C*S,O=new MouseEvent("mousemove",{clientX:M,clientY:T,bubbles:!0});e.dispatchEvent(O),await new Promise(P=>setTimeout(P,150))}const R=new MouseEvent("mouseup",{clientX:l,clientY:h,bubbles:!0});e.dispatchEvent(R),await new Promise(S=>setTimeout(S,1e3))}async function Ve(e,t,r){try{const n=await(await fetch(e,{method:"POST",headers:r,body:JSON.stringify(t)})).json();if(n.code!==200){const a=n.msg;if(a){if(n.code===1||n.code===10||n.code===18||n.code===110){chrome.runtime.sendMessage({action:a}),stop=!0;return}if(n.code===17||n.code===19||n.code===429){chrome.runtime.sendMessage({action:a}),stop=!0;return}if([4,3,12,13,14,115].includes(n.code))return document.querySelector(".geetest_refresh").click(),null}}return n}catch(s){throw console.error("Error fetching coordinates:",s),s}}async function Ge(e){try{const t=await fetch("https://feedback.captchasonic.com/extFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const r=await t.json();return console.log("Success:",r),r}catch(t){return console.error("Error sending feedback:",t),null}}function Je(e,t){const r=document.querySelector(e);if(!r){console.warn(`Element not found: ${e}`);return}return new MutationObserver(n=>{n.forEach(a=>{if(a.attributeName==="aria-hidden"){const l=r.getAttribute("aria-hidden")==="true";window.postMessage({type:"ariaHiddenChange",value:l},"*"),typeof t=="function"&&t(l)}})}).observe(r,{attributes:!0,attributeFilter:["aria-hidden"]}),r.getAttribute("aria-hidden")==="true"}function Ze(e,t){const r=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,s=>{s[`${e}_solved`],chrome.storage.local.get([r],n=>{const a=n[r]||[];if(a.some(h=>h.fail_report===!0)){const h=a.map(w=>w.data),b={type:"feedback",payload:{apiKey:t,data:h,pass:!1}};h.length>0&&chrome.runtime.sendMessage(b,w=>{chrome.storage.local.remove([r,`${e}_solved`,`${e}_feedback`,`${e}_hasRun`],()=>{})})}chrome.storage.local.remove([r,`${e}_solved`],()=>{})})})}function Qe(e,t){const r=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,s=>{s[`${e}_solved`],chrome.storage.local.get([r],n=>{const a=n[r]||[];if(a.some(h=>h.pass_report===!0)){const h=a.map(w=>w.data),b={type:"feedback",payload:{apiKey:t,data:h,pass:!0}};h.length>0&&chrome.runtime.sendMessage(b,w=>{chrome.storage.local.remove([r,`${e}_solved`,`${e}_feedback`],()=>{})})}chrome.storage.local.remove([r,`${e}_solved`],()=>{})})})}const $={version:_e,$:D,$$:fe,isMulti:he,isGrid:Ae,isBbox:pe,isBboxDD:Pe,isWidget:Ie,sleep:B,randTimer:Fe,isSolved:Re,countdownNotif:Me,getBase64FromUrl:be,refreshIframes:Oe,getEn:Le,skip:Ne,getBrowser:Ue,shuffle:De,fireMouseEvents:te,getCanvas:We,handleCanvasDD:Be,getApi:Ke,clickMatchingElement:je,sliceOG:Ye,updateExamples:He,getExamples:Xe,solveGeetestCaptcha:ze,sendCoordinatesRequest:Ve,geeFetchImage:$e,sendFeedback:Ge,observeAriaHidden:Je,handleCaptchaFeedback:Ze,handleCaptchaFeedbackOnSuccess:Qe},et={matches:["<all_urls>"],allFrames:!0,async main(){const[e]=ie(window.location.href),[t,r]=ie(await chrome.storage.local.get("settings"));r(t().settings);let s="",n="",a=!1,l=[],h=null,v=null;if(window.__awsWafScriptLoaded)return;window.__awsWafScriptLoaded=!0;class b{static time(){return Date.now||(Date.now=()=>new Date().getTime()),Date.now()}static date(){return new Date}static sleep(c=1e3){return new Promise(A=>setTimeout(A,c))}static async random_sleep(c,A){const o=Math.floor(Math.random()*(A-c)+c);return await b.sleep(o)}static seconds_as_hms(c){c=Math.max(0,c);const A=Util.pad_left(Math.floor(c/3600),"0",2);c%=3600;const o=Util.pad_left(Math.floor(c/60),"0",2),i=Util.pad_left(Math.floor(c%60),"0",2);return`${A}:${o}:${i}`}static string(c=null){c||(c=b.date());const A=Util.pad_left(c.getMonth()+1,"0",2),o=Util.pad_left(c.getDate(),"0",2),i=c.getFullYear(),u=Util.pad_left(c.getHours()%12,"0",2),f=Util.pad_left(c.getMinutes(),"0",2),m=Util.pad_left(c.getSeconds(),"0",2),p=c.getHours()>=12?"PM":"AM";return`${A}/${o}/${i} ${u}:${f}:${m} ${p}`}}async function w(){try{if(s==="toycarcity"){const d=v.querySelector("#amzn-btn-verify-internal");return d!==null&&getComputedStyle(d).display==="block"}if(s==="gridcaptcha-5-0.1-0"){if(!h)return console.error("ShadowRootEle is not defined."),!1;const d=h.querySelector("#amzn-btn-verify-internal");return d!==null&&getComputedStyle(d).display==="block"}return console.warn("Unknown quesType or no specific handling implemented."),!1}catch(d){return console.error("Error in is_widget_frame function:",d),!1}}async function C(){await b.sleep(1e3);const d=document.querySelector("awswaf-captcha");if(!d||!d.shadowRoot)return!1;h=d.shadowRoot;const c=h.querySelector(".amzn-captcha-modal em"),A=h.querySelector(".amzn-captcha-modal canvas");return A&&(l=function(p,x,g){p.getContext("2d");const E=p.width,y=p.height,I=E/g,q=y/x,F=[];for(let U=0;U<x;U++)for(let oe=0;oe<g;oe++){const gt=oe*I,mt=U*q,Q=document.createElement("canvas");Q.width=I,Q.height=q,Q.getContext("2d").drawImage(p,gt,mt,I,q,0,0,I,q);const dt=Q.toDataURL("image/png").replace(/^data:image\/(png|jpeg);base64,/,"");F.push(dt)}return F}(A,3,3)),await O(A)===!0&&(s="gridcaptcha-5-0.1-0"),c&&(n=c.textContent),c&&A!==null}async function R(d){var c=document.getElementById("cvf-aamation-challenge-iframe");v=c.contentDocument||c.contentWindow.document;function A(f,m,p){const x=f.getBoundingClientRect(),g=["mouseover","mousedown","mouseup","click"],E={clientX:m+x.left,clientY:p+x.top,bubbles:!0};for(let y=0;y<g.length;y++){const I=new MouseEvent(g[y],E);f.dispatchEvent(I)}v.querySelector("#amzn-btn-verify-internal")?.click()}const o=v.querySelector("canvas"),i=d[0],u=d[1];A(o,i,u)}async function S(){try{const d=document.querySelector("#captcha-container > #root #amzn-captcha-verify-button");d&&d.click()}catch{}}const M=async d=>{const A=h.querySelector("canvas").querySelectorAll("button");for(let u=0;u<d.length;u++){const f=A[d[u]];await $.sleep(300),f.click()}await $.sleep(500),h.querySelector("#amzn-btn-verify-internal").click(),await $.sleep(1e3);let i=Array.from(h.querySelector("form")?.querySelectorAll(":scope > div[role='alert']")||[]);i.length==0&&$.handleCaptchaFeedbackOnSuccess("aws",t().apiKey),i&&(await $.sleep(300),i[0].style.display==="none"===!1&&(chrome.storage.local.set({aws_solved:!1}),$.handleCaptchaFeedback("aws",t().apiKey)))};async function T(){if(a=!0,!t().ACTIVE||!t().OPTIONS.AWSWAF.AUTOSOLVE||t().BLACKLIST.includes(e()))return;b.time(),l&&await d(t().APIKEY,e(),s,l,n),l=[];async function d(c,A,o,i,u){const f={type:"networkRequest",payload:{url:"https://api.captchasonic.com/createTask",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:c,task:{type:"AwsWafImage",websiteURL:A,queries:o==="toycarcity"?[i]:[...i],question:o==="toycarcity"?"aws:toycarcity:carcity":`aws:grid:${u}`}})}};chrome.runtime.sendMessage(f,async m=>{if(m.success){if(m=m.data,m.code!==200){const p=m.msg;if(p){if(m.code===1||m.code===10||m.code===18||m.code===110){chrome.runtime.sendMessage({action:p}),L=!0;return}if(m.code===17||m.code===19||m.code===429){chrome.runtime.sendMessage({action:p}),L=!0;return}[4,3,12,13,14,115].includes(m.code)&&(o==="gridcaptcha-5-0.1-0"&&(h.querySelector("#amzn-btn-refresh-internal")?.click(),a=!1),o==="toycarcity"&&(v.querySelector("#amzn-btn-refresh-internal")?.click(),a=!1))}}else if(m.code===200){const p=m?.meta;if(p){const x="aws_feedback";chrome.storage.local.get([x],g=>{const E=g[x]||[];E.push(p),chrome.storage.local.set({[x]:E})})}if(m?.answers)try{o==="toycarcity"?(R(m.answers),a=!1):o==="gridcaptcha-5-0.1-0"&&(await M(m.answers),a=!1)}catch{chrome.runtime.sendMessage({action:"no solutions"})}else o!=="toycarcity"&&(h.querySelector("#amzn-btn-refresh-internal")?.click(),a=!1),o==="toycarcity"&&(v.querySelector("#amzn-btn-refresh-internal")?.click(),a=!1)}}else console.error("Error for Request 2:",m.error)})}}async function O(d){return d?d.querySelectorAll("button").length>0:(console.error("Invalid canvas element:",d),!1)}async function P(){var d=document.getElementById("cvf-aamation-challenge-iframe");if(d){var c=d.contentDocument||d.contentWindow.document,A=c.querySelector("canvas");if(A){const o=A.querySelectorAll("button");if(o.length===0||o===null||o===void 0)return!0}return!1}}let L=!1;for(chrome.storage.local.get(null,d=>{Object.keys(d).forEach(c=>{c.endsWith("_hasRun")&&chrome.storage.local.remove(c),c.endsWith("_feedback")&&chrome.storage.local.remove(c)}),chrome.storage.local.set({aws_hasRun:!1}),chrome.storage.local.set({aws_solved:!0})});L===!1&&t().OPTIONS.AWSWAF.AUTOSOLVE&&t()?.AUTOOPENENABLED&&!t().BLACKLIST.includes(e())&&t()?.OPTIONS.AWSWAF.AUTOOPEN===!0&&t()?.OPTIONS.AWSWAF.ENABLED===!0;)if(await b.sleep(3e3),await S(),await P()&&a===!1){async function d(){var c=document.getElementById("cvf-aamation-challenge-iframe");v=c.contentDocument||c.contentWindow.document;try{var A=v.querySelector("canvas");if(A){var o=A.toDataURL("image/png");l=await $.getBase64FromUrl(o),s="toycarcity",l&&await w()&&await T()}else console.error("Canvas not found inside the iframe.")}catch(i){console.error("Error accessing the iframe content:",i)}}await d()}else await C()&&a===!1&&await w()&&await T()}};function tt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var V={exports:{}},rt=V.exports,we;function st(){return we||(we=1,function(e,t){(function(r,s){s(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:rt,function(r){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)r.exports=globalThis.browser;else{const s="The message port closed before a response was received.",n=a=>{const l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class h extends WeakMap{constructor(i,u=void 0){super(u),this.createItem=i}get(i){return this.has(i)||this.set(i,this.createItem(i)),super.get(i)}}const v=o=>o&&typeof o=="object"&&typeof o.then=="function",b=(o,i)=>(...u)=>{a.runtime.lastError?o.reject(new Error(a.runtime.lastError.message)):i.singleCallbackArg||u.length<=1&&i.singleCallbackArg!==!1?o.resolve(u[0]):o.resolve(u)},w=o=>o==1?"argument":"arguments",C=(o,i)=>function(f,...m){if(m.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${w(i.minArgs)} for ${o}(), got ${m.length}`);if(m.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${w(i.maxArgs)} for ${o}(), got ${m.length}`);return new Promise((p,x)=>{if(i.fallbackToNoCallback)try{f[o](...m,b({resolve:p,reject:x},i))}catch(g){console.warn(`${o} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,g),f[o](...m),i.fallbackToNoCallback=!1,i.noCallback=!0,p()}else i.noCallback?(f[o](...m),p()):f[o](...m,b({resolve:p,reject:x},i))})},R=(o,i,u)=>new Proxy(i,{apply(f,m,p){return u.call(m,o,...p)}});let S=Function.call.bind(Object.prototype.hasOwnProperty);const M=(o,i={},u={})=>{let f=Object.create(null),m={has(x,g){return g in o||g in f},get(x,g,E){if(g in f)return f[g];if(!(g in o))return;let y=o[g];if(typeof y=="function")if(typeof i[g]=="function")y=R(o,o[g],i[g]);else if(S(u,g)){let I=C(g,u[g]);y=R(o,o[g],I)}else y=y.bind(o);else if(typeof y=="object"&&y!==null&&(S(i,g)||S(u,g)))y=M(y,i[g],u[g]);else if(S(u,"*"))y=M(y,i[g],u["*"]);else return Object.defineProperty(f,g,{configurable:!0,enumerable:!0,get(){return o[g]},set(I){o[g]=I}}),y;return f[g]=y,y},set(x,g,E,y){return g in f?f[g]=E:o[g]=E,!0},defineProperty(x,g,E){return Reflect.defineProperty(f,g,E)},deleteProperty(x,g){return Reflect.deleteProperty(f,g)}},p=Object.create(o);return new Proxy(p,m)},T=o=>({addListener(i,u,...f){i.addListener(o.get(u),...f)},hasListener(i,u){return i.hasListener(o.get(u))},removeListener(i,u){i.removeListener(o.get(u))}}),O=new h(o=>typeof o!="function"?o:function(u){const f=M(u,{},{getContent:{minArgs:0,maxArgs:0}});o(f)}),P=new h(o=>typeof o!="function"?o:function(u,f,m){let p=!1,x,g=new Promise(q=>{x=function(F){p=!0,q(F)}}),E;try{E=o(u,f,x)}catch(q){E=Promise.reject(q)}const y=E!==!0&&v(E);if(E!==!0&&!y&&!p)return!1;const I=q=>{q.then(F=>{m(F)},F=>{let U;F&&(F instanceof Error||typeof F.message=="string")?U=F.message:U="An unexpected error occurred",m({__mozWebExtensionPolyfillReject__:!0,message:U})}).catch(F=>{console.error("Failed to send onMessage rejected reply",F)})};return I(y?E:g),!0}),L=({reject:o,resolve:i},u)=>{a.runtime.lastError?a.runtime.lastError.message===s?i():o(new Error(a.runtime.lastError.message)):u&&u.__mozWebExtensionPolyfillReject__?o(new Error(u.message)):i(u)},d=(o,i,u,...f)=>{if(f.length<i.minArgs)throw new Error(`Expected at least ${i.minArgs} ${w(i.minArgs)} for ${o}(), got ${f.length}`);if(f.length>i.maxArgs)throw new Error(`Expected at most ${i.maxArgs} ${w(i.maxArgs)} for ${o}(), got ${f.length}`);return new Promise((m,p)=>{const x=L.bind(null,{resolve:m,reject:p});f.push(x),u.sendMessage(...f)})},c={devtools:{network:{onRequestFinished:T(O)}},runtime:{onMessage:T(P),onMessageExternal:T(P),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},A={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":A},services:{"*":A},websites:{"*":A}},M(a,c,l)};r.exports=n(chrome)}})}(V)),V.exports}var nt=st();const ye=tt(nt);function G(e,...t){}const ot={debug:(...e)=>G(console.debug,...e),log:(...e)=>G(console.log,...e),warn:(...e)=>G(console.warn,...e),error:(...e)=>G(console.error,...e)};class se extends Event{constructor(t,r){super(se.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=r}static EVENT_NAME=ne("wxt:locationchange")}function ne(e){return`${ye?.runtime?.id}:awswaf:${e}`}function at(e){let t,r;return{run(){t==null&&(r=new URL(location.href),t=e.setInterval(()=>{let s=new URL(location.href);s.href!==r.href&&(window.dispatchEvent(new se(s,r)),r=s)},1e3))}}}class J{constructor(t,r){this.contentScriptName=t,this.options=r,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=ne("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=at(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return ye.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,r){const s=setInterval(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearInterval(s)),s}setTimeout(t,r){const s=setTimeout(()=>{this.isValid&&t()},r);return this.onInvalidated(()=>clearTimeout(s)),s}requestAnimationFrame(t){const r=requestAnimationFrame((...s)=>{this.isValid&&t(...s)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(t,r){const s=requestIdleCallback((...n)=>{this.signal.aborted||t(...n)},r);return this.onInvalidated(()=>cancelIdleCallback(s)),s}addEventListener(t,r,s,n){r==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(r.startsWith("wxt:")?ne(r):r,s,{...n,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),ot.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:J.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const r=t.data?.type===J.SCRIPT_STARTED_MESSAGE_TYPE,s=t.data?.contentScriptName===this.contentScriptName,n=!this.receivedMessageIds.has(t.data?.messageId);return r&&s&&n}listenForNewerScripts(t){let r=!0;const s=n=>{if(this.verifyScriptStartedEvent(n)){this.receivedMessageIds.add(n.data.messageId);const a=r;if(r=!1,a&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",s),this.onInvalidated(()=>removeEventListener("message",s))}}const it=Symbol("null");let ct=0;class lt extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[r,s]of t)this.set(r,s)}}_getPublicKeys(t,r=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const s=this._getPrivateKey(t,r);let n;return s&&this._publicKeys.has(s)?n=this._publicKeys.get(s):r&&(n=[...t],this._publicKeys.set(s,n)),{privateKey:s,publicKey:n}}_getPrivateKey(t,r=!1){const s=[];for(let n of t){n===null&&(n=it);const a=typeof n=="object"||typeof n=="function"?"_objectHashes":typeof n=="symbol"?"_symbolHashes":!1;if(!a)s.push(n);else if(this[a].has(n))s.push(this[a].get(n));else if(r){const l=`@@mkm-ref-${ct++}@@`;this[a].set(n,l),s.push(l)}else return!1}return JSON.stringify(s)}set(t,r){const{publicKey:s}=this._getPublicKeys(t,!0);return super.set(s,r)}get(t){const{publicKey:r}=this._getPublicKeys(t);return super.get(r)}has(t){const{publicKey:r}=this._getPublicKeys(t);return super.has(r)}delete(t){const{publicKey:r,privateKey:s}=this._getPublicKeys(t);return!!(r&&super.delete(r)&&this._publicKeys.delete(s))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new lt;function pt(){}function Z(e,...t){}const ut={debug:(...e)=>Z(console.debug,...e),log:(...e)=>Z(console.log,...e),warn:(...e)=>Z(console.warn,...e),error:(...e)=>Z(console.error,...e)};return(async()=>{try{const{main:e,...t}=et,r=new J("awswaf",t);return await e(r)}catch(e){throw ut.error('The content script "awswaf" crashed on startup!',e),e}})()}();
awswaf;
