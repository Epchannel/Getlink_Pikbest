var mtcaptcha=function(){"use strict";function ut(e){return e}const ne={equals:(e,t)=>e===t};let ve=le;const B=1,D=2;var Y=null;let Q=null,ye=null,k=null,T=null,$=null,W=0;function oe(e,t){t=t?Object.assign({},ne,t):ne;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=n=>(typeof n=="function"&&(n=n(s.value)),ae(s,n));return[Ee.bind(s),r]}function xe(e){if(k===null)return e();const t=k;k=null;try{return e()}finally{k=t}}function Ee(){if(this.sources&&this.state)if(this.state===B)ie(this);else{const e=T;T=null,X(()=>H(this)),T=e}if(k){const e=this.observers?this.observers.length:0;k.sources?(k.sources.push(this),k.sourceSlots.push(e)):(k.sources=[this],k.sourceSlots=[e]),this.observers?(this.observers.push(k),this.observerSlots.push(k.sources.length-1)):(this.observers=[k],this.observerSlots=[k.sources.length-1])}return this.value}function ae(e,t,s){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&X(()=>{for(let n=0;n<e.observers.length;n+=1){const a=e.observers[n],g=Q&&Q.running;g&&Q.disposed.has(a),(g?!a.tState:!a.state)&&(a.pure?T.push(a):$.push(a),a.observers&&ue(a)),g||(a.state=B)}if(T.length>1e6)throw T=[],new Error})),t}function ie(e){if(!e.fn)return;V(e);const t=W;Se(e,e.value,t)}function Se(e,t,s){let r;const n=Y,a=k;k=Y=e;try{r=e.fn(t)}catch(g){return e.pure&&(e.state=B,e.owned&&e.owned.forEach(V),e.owned=null),e.updatedAt=s+1,ge(g)}finally{k=a,Y=n}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?ae(e,r):e.value=r,e.updatedAt=s)}function ce(e){if(e.state===0)return;if(e.state===D)return H(e);if(e.suspense&&xe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<W);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===B)ie(e);else if(e.state===D){const r=T;T=null,X(()=>H(e,t[0])),T=r}}function X(e,t){if(T)return e();let s=!1;T=[],$?s=!0:$=[],W++;try{const r=e();return ke(s),r}catch(r){s||($=null),T=null,ge(r)}}function ke(e){if(T&&(le(T),T=null),e)return;const t=$;$=null,t.length&&X(()=>ve(t))}function le(e){for(let t=0;t<e.length;t++)ce(e[t])}function H(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const r=e.sources[s];if(r.sources){const n=r.state;n===B?r!==t&&(!r.updatedAt||r.updatedAt<W)&&ce(r):n===D&&H(r,t)}}}function ue(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=D,s.pure?T.push(s):$.push(s),s.observers&&ue(s))}}function V(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),r=e.sourceSlots.pop(),n=s.observers;if(n&&n.length){const a=n.pop(),g=s.observerSlots.pop();r<n.length&&(a.sourceSlots[g]=r,n[r]=a,s.observerSlots[r]=g)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)V(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)V(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ce(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ge(e,t=Y){throw Ce(e)}globalThis.browser?.runtime?.id==null?globalThis.chrome:globalThis.browser;const Te="0.1.9",Me=(e,t)=>{const s=document.createElement("div");s.style.cssText="position:fixed;top:8%;left:0;background-color:rgba(0,0,0,.6);padding:2px;color:#fff;font:calc(14px + .5vw) 'Arial',sans-serif;font-weight:bold;text-transform:uppercase;letter-spacing:1px;z-index:9999;transition:all 1s;animation:slideIn 1s forwards",s.innerHTML=`<p>${e}. Retrying in..<span id="countdown">${t}</span></p>`,document.body.appendChild(s),(()=>{const a=document.getElementById("countdown");if(!a)return;let g=t;const p=setInterval(()=>{g--,a.textContent=g,g<=0&&clearInterval(p)},1e3)})();const n=document.createElement("style");n.innerHTML="@keyframes slideIn{0%{transform:translateX(-100%)}100%{transform:translateX(0)}}@keyframes slideOut{0%{transform:translateX(0)}100%{transform:translateX(100%)}}",document.head.appendChild(n),setTimeout(()=>{s.style.animation="slideOut 1s forwards",setTimeout(()=>{document.body.removeChild(s)},1e3)},t*1e3)},U=e=>document.querySelector(e),me=e=>document.querySelectorAll(e);function de(){return U(".task-answers")!==null}function fe(){return me(".task-image .image").length===9}function he(){return U(".bounding-box-example")!==null}function Pe(){return U(".challenge-header")!==null&&U(".bounding-box-example")===null&&U(".task-grid")==null}function Ie(){const e=document.body.getBoundingClientRect();return e?.width===0||e?.height===0?!1:document.querySelector("div.check")!==null}function K(e){return new Promise(t=>setTimeout(t,e))}function Oe(e,t){return Math.floor(Math.random()*(t-e)+e)}function _e(){try{const e=document.querySelector("div.check");return e&&e.style.display==="block"}catch(e){return console.error(e),!1}}async function Fe(e){const t=await(await fetch(e,{headers:{"if-none-match":'"CFDAD5AA0CE4A3068FF1CABAC59E4D9D"'},host:"https://domain.com"})).blob();return await Re(t)}async function Re(e){return new Promise(t=>{const s=new FileReader;s.readAsDataURL(e),s.addEventListener("loadend",()=>{const r=s.result.replace(/^data:image\/(png|jpeg);base64,/,"");t(r)}),s.addEventListener("error",()=>{logs&&console.log("❌ Failed to convert url to base64")})})}async function Ae(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch the URL: ${e}`);const s=await t.blob();return new Promise((r,n)=>{const a=new FileReader;a.readAsDataURL(s),a.addEventListener("loadend",()=>{r(a.result.replace(/^data:image\/(png|jpeg);base64,/,""))}),a.addEventListener("error",()=>{console.error("❌ Failed to read blob as base64"),n("Failed to read blob")})})}catch(t){return console.error(`❌ Failed to convert URL to base64: ${e}`,t),null}}function Le(){document.querySelectorAll("iframe").forEach(t=>{t.src=t.src})}async function $e(){he()?(await K(200),document.querySelector(".display-language.button").click(),await K(100),document.querySelector(".language-selector .option:nth-child(23)").click()):fe()?(await K(100),document.querySelector(".language-selector .option:nth-child(23)").click()):de()&&(document.querySelector(".display-language.button").click(),await K(200),document.querySelector(".language-selector .option:nth-child(23)").click(),await K(200))}function Ne(){document.querySelector(".button-submit").click()}async function qe(){const e=navigator.userAgent;let t,s=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(s[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],`IE ${t[1]||""}`):s[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!=null)?t.slice(1).join(" ").replace("OPR","Opera"):(s=s[2]?[s[1],s[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!=null&&s.splice(1,1,t[1]),{version:s,platform:navigator.platform})}function Ue(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function ee(e){["mouseover","mousedown","mouseup","click"].forEach(t=>{if(e.fireEvent)e.fireEvent("on"+t);else{const s=document.createEvent("MouseEvents");s.initEvent(t,!0,!1),e.dispatchEvent(s)}})}function te(e,t,s,r,n,a,g){e.dispatchEvent(new MouseEvent(t,{bubbles:!0,clientX:s,clientY:r,buttons:n,button:a,pressure:g}))}async function Ke(e,t){const s=document.querySelector("canvas");if(e!==void 0)for(const{start:r,end:n}of e)if(Array.isArray(r)&&r.length!==0&&Array.isArray(n)&&n.length!==0){const[a,g]=r,[p,y]=n,w=s.getBoundingClientRect(),v=a+w.left,S=g+w.top,I=p+w.left,x=y+w.top;te(s,"mousedown",v,S,1,0,1),await new Promise(F=>setTimeout(F,t));const C=I-v,M=x-S,R=Math.sqrt(C**2+M**2),O=Math.round(R/6),N=C/O,j=M/O;for(let F=1;F<=O;F++){const q=v+N*F,i=S+j*F;te(s,"mousemove",q,i,1,0,1),await new Promise(c=>setTimeout(c,50))}te(s,"mouseup",I,x,0,0,0)}else _.$(".button-submit").click();else _.$(".button-submit").click()}async function je(e){function t(a,g,p){const y=a.getBoundingClientRect(),w=["mouseover","mousedown","mouseup","click"],v={clientX:g+y.left,clientY:p+y.top,bubbles:!0};for(let S=0;S<w.length;S++){const I=new MouseEvent(w[S],v);a.dispatchEvent(I)}}const s=document.querySelector("canvas");s.addEventListener("mousedown",a=>{const g=s.getBoundingClientRect();a.clientX-g.left,a.clientY-g.top});const[r,n]=e;t(s,r,n),await _.sleep(300)}async function Be(e,t){const s=(await chrome.storage.local.get("customEndpoint")).customEndpoint;return t==="custom"?`https://${s}/${e}`:"https://api.captchasonic.com/createTask"}async function De(e){for(const t of e){const s=[...document.querySelectorAll(".answer-text")].find(r=>r.outerText===t);ee(s),[...document.querySelectorAll(".answer-example")].some(r=>r.style.backgroundColor==="rgb(116, 116, 116)")||ee(s)}}async function Ye(){const e=document.querySelector("canvas");if(!e)return null;const[t,s]=[e.width,e.height],n=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,t,s,{willReadFrequently:!0});if((x=>{const C=x.data;for(let M=0;M<C.length;M+=4){const R=C[M],O=C[M+1],N=C[M+2];if(R!==O||O!==N)return!1}return!0})(n))return null;const g=parseInt(e.style.width,10),p=parseInt(e.style.height,10);if(g<=0||p<=0)return null;const y=Math.min(g/t,p/s),[w,v]=[t*y,s*y],S=document.createElement("canvas");return Object.assign(S,{width:w,height:v}),S.getContext("2d",{willReadFrequently:!0}).drawImage(e,0,0,t,s,0,0,w,v),S.toDataURL("image/jpeg").replace(/^data:image\/(png|jpeg);base64,/,"")}function We(e){return[...document.querySelectorAll(`${e}`)].map(t=>t.style.backgroundImage.replace(/url\("|"\)/g,""))}function Xe(e){return Promise.all(e.map(async(t,s)=>(e[s]=await Ae(t),e[s])))}async function He(e,t,s){const r=e.getBoundingClientRect(),n=r.left+window.scrollX,a=r.top+window.scrollY,g=n+t,p=a+s,y=new MouseEvent("mousedown",{clientX:n,clientY:a,bubbles:!0});e.dispatchEvent(y),await new Promise(x=>setTimeout(x,1e3));const w=20,v=(g-n)/w,S=(p-a)/w;for(let x=1;x<=w;x++){const C=n+v*x,M=a+S*x,R=new MouseEvent("mousemove",{clientX:C,clientY:M,bubbles:!0});e.dispatchEvent(R),await new Promise(O=>setTimeout(O,150))}const I=new MouseEvent("mouseup",{clientX:g,clientY:p,bubbles:!0});e.dispatchEvent(I),await new Promise(x=>setTimeout(x,1e3))}async function Ve(e,t,s){try{const n=await(await fetch(e,{method:"POST",headers:s,body:JSON.stringify(t)})).json();if(n.code!==200){const a=n.msg;if(a){if(n.code===1||n.code===10||n.code===18||n.code===110){chrome.runtime.sendMessage({action:a}),stop=!0;return}if(n.code===17||n.code===19||n.code===429){chrome.runtime.sendMessage({action:a}),stop=!0;return}if([4,3,12,13,14,115].includes(n.code))return document.querySelector(".geetest_refresh").click(),null}}return n}catch(r){throw console.error("Error fetching coordinates:",r),r}}async function Ge(e){try{const t=await fetch("https://feedback.captchasonic.com/extFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const s=await t.json();return console.log("Success:",s),s}catch(t){return console.error("Error sending feedback:",t),null}}function ze(e,t){const s=document.querySelector(e);if(!s){console.warn(`Element not found: ${e}`);return}return new MutationObserver(n=>{n.forEach(a=>{if(a.attributeName==="aria-hidden"){const g=s.getAttribute("aria-hidden")==="true";window.postMessage({type:"ariaHiddenChange",value:g},"*"),typeof t=="function"&&t(g)}})}).observe(s,{attributes:!0,attributeFilter:["aria-hidden"]}),s.getAttribute("aria-hidden")==="true"}function Je(e,t){const s=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,r=>{r[`${e}_solved`],chrome.storage.local.get([s],n=>{const a=n[s]||[];if(a.some(p=>p.fail_report===!0)){const p=a.map(v=>v.data),w={type:"feedback",payload:{apiKey:t,data:p,pass:!1}};p.length>0&&chrome.runtime.sendMessage(w,v=>{chrome.storage.local.remove([s,`${e}_solved`,`${e}_feedback`,`${e}_hasRun`],()=>{})})}chrome.storage.local.remove([s,`${e}_solved`],()=>{})})})}function Ze(e,t){const s=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,r=>{r[`${e}_solved`],chrome.storage.local.get([s],n=>{const a=n[s]||[];if(a.some(p=>p.pass_report===!0)){const p=a.map(v=>v.data),w={type:"feedback",payload:{apiKey:t,data:p,pass:!0}};p.length>0&&chrome.runtime.sendMessage(w,v=>{chrome.storage.local.remove([s,`${e}_solved`,`${e}_feedback`],()=>{})})}chrome.storage.local.remove([s,`${e}_solved`],()=>{})})})}const _={version:Te,$:U,$$:me,isMulti:de,isGrid:fe,isBbox:he,isBboxDD:Pe,isWidget:Ie,sleep:K,randTimer:Oe,isSolved:_e,countdownNotif:Me,getBase64FromUrl:Ae,refreshIframes:Le,getEn:$e,skip:Ne,getBrowser:qe,shuffle:Ue,fireMouseEvents:ee,getCanvas:je,handleCanvasDD:Ke,getApi:Be,clickMatchingElement:De,sliceOG:Ye,updateExamples:Xe,getExamples:We,solveGeetestCaptcha:He,sendCoordinatesRequest:Ve,geeFetchImage:Fe,sendFeedback:Ge,observeAriaHidden:ze,handleCaptchaFeedback:Je,handleCaptchaFeedbackOnSuccess:Ze},Qe={matches:["<all_urls>"],allFrames:!0,async main(){const[e]=oe(window.location.href),[t,s]=oe(await chrome.storage.local.get("settings"));s(t().settings);let r=null,n=[],a=null,g=!1,p=0,y=!1,w="OcrImage",v="mtcaptcha",S=0,I=null;if(window.messageListenerAdded)return;window.messageListenerAdded=!0;const x=["mtcv1/api/getchallenge.json","mtcv1/api/getimage.json","mtcv1/api/getaudio.json"],C=new PerformanceObserver(o=>{for(const u of o.getEntries()){const d=u.name;d.includes("mtcv1/api/getchallenge.json")&&new URLSearchParams(d).get("rt"),x.some(A=>d.includes(A))&&(M(),C.disconnect())}});C.observe({entryTypes:["resource"],buffered:!0,threshold:100});function M(){const o=document.createElement("script");o.src=chrome.runtime.getURL("themes/mt.js"),(document.head||document.documentElement).appendChild(o)}window.addEventListener("message",async o=>{try{if(o.data&&o.data.data){let u;try{u=JSON.parse(o.data.data)}catch{return}if(u.code===1200){const d=u.result?.challenge?.textChlg?.textlen;d&&(S=d,g=!0)}}}catch(u){console.error("Unexpected error in message listener:",u)}});function R(o){return new Promise(u=>setTimeout(u,o))}async function O(){if(!y){y=!0;try{t().OPTIONS.MTCAPTCHA.METHOD=="RECOGNITION"?await j():t().OPTIONS.MTCAPTCHA.METHOD=="audio"&&await F()}catch(o){console.log("Error in solving captcha: ",o)}finally{r=null,n=[],a=null}}}async function N(o,u,d,A,l,h){const b={type:"networkRequest",payload:{url:"https://api.captchasonic.com/createTask",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:o,task:{type:d,websiteURL:u,queries:A,module:l,maxLength:h}})}};chrome.runtime.sendMessage(b,async f=>{if(f.success){if(f=f.data,f.code!==200){const P=f.msg;if(P){if(f.code===1||f.code===10||f.code===18||f.code===110){chrome.runtime.sendMessage({action:P}),y=!0;return}if(f.code===17||f.code===19||f.code===429){chrome.runtime.sendMessage({action:P}),y=!0;return}[4,3,12,13,14,115].includes(f.code)&&m()}}else if(f.code===200){a=document.querySelector("#mtcap-inputtext-1");const P=f.meta;if(P){const E="mtCaptcha_feedback";chrome.storage.local.get([E],L=>{const we=L[E]||[];we.push(P),chrome.storage.local.set({[E]:we})})}if(f?.answers)try{p=f?.answers[0].length,q(a),await i(a,f?.answers[0])}catch{chrome.runtime.sendMessage({action:"no solutions"})}else{m();return}}}else console.error("Error for Request 2:",f.error)})}async function j(){let o=document.querySelector("#mtcap-image-1");if(o){const d=o.getAttribute("style").match(/url\((.*?)\)/);if(d&&d[1]){const A=d[1].replace(/['"]/g,"");I!==A&&(I=A,n.push(await _.getBase64FromUrl(A)))}}if(a=document.querySelector("#mtcap-inputtext-1"),!o||!a){m();return}if(n.length===0){m();return}await N(t().APIKEY,e(),w,n,v,S)}async function F(){if(r=document.querySelector("audio"),a=document.querySelector("#mtcap-inputtext-1"),!r||!a){m();return}}function q(o){if(o&&typeof o.dispatchEvent=="function"){const u=new FocusEvent("focus",{bubbles:!0,cancelable:!0});o.dispatchEvent(u);const d=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0,buttons:1});o.dispatchEvent(d);const A=new MouseEvent("mouseup",{view:window,bubbles:!0,cancelable:!0,buttons:0});o.dispatchEvent(A);for(const l of["mouseover","mousedown","mouseup","click"]){const h=new MouseEvent(l,{view:window,bubbles:!0,cancelable:!0});o.dispatchEvent(h)}}else console.log("Invalid element or dispatchEvent is not available.")}async function i(o,u){function d(l,h,b){const f=new h(b);l.dispatchEvent(f)}function A(l){["mouseover","mousedown","mouseup","click"].forEach(h=>{d(l,MouseEvent,{bubbles:!0,cancelable:!0,view:window,type:h})})}A(o),d(o,FocusEvent,{bubbles:!0,cancelable:!0,type:"focus"});for(let l=0;l<u.length;l++){const h=u[l];if(await _.sleep(500),Math.random()<.05){const E=String.fromCharCode(Math.floor(Math.random()*26)+97);o.value+=E,o.dispatchEvent(new Event("input",{bubbles:!0})),await _.sleep(Math.random()*200+50),o.value=o.value.slice(0,-1),o.dispatchEvent(new Event("input",{bubbles:!0}))}const b=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,view:window,key:h,code:`Key${h.toUpperCase()}`,location:0}),f=new KeyboardEvent("keypress",{bubbles:!0,cancelable:!0,view:window,key:h,code:`Key${h.toUpperCase()}`,location:0}),P=new KeyboardEvent("keyup",{bubbles:!0,cancelable:!0,view:window,key:h,code:`Key${h.toUpperCase()}`,location:0});o.dispatchEvent(b),o.dispatchEvent(f),o.value+=h,o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(P)}d(o,FocusEvent,{bubbles:!0,cancelable:!0,type:"blur"}),await c()}async function c(){await _.sleep(5e3);let o=document.querySelector(".mtcap-image");if(o){const d=o.getAttribute("style").match(/url\((.*?)\)/);if(d&&d[1])if(d[1].replace(/['"]/g,"")===I)m();else{y=!1;return}}else console.log("not fouond image element")}async function m(){return await _.sleep(2e3),y=!1,document.querySelector("#mtcap-statusbutton-1")?.click()}for(chrome.storage.local.get(null,o=>{Object.keys(o).forEach(u=>{u.endsWith("_hasRun")&&chrome.storage.local.remove(u),u.endsWith("_feedback")&&chrome.storage.local.remove(u)}),chrome.storage.local.set({mtCaptcha_hasRun:!1}),chrome.storage.local.set({mtCaptcha_solved:!0})}),(()=>{let o=0;const u=68;new MutationObserver((A,l)=>{for(const h of A)if(h.type==="childList"){const b=document.querySelector("#mtcap-msg-1");b&&(l.disconnect(),new MutationObserver(P=>{for(const E of P)if(E.type==="childList"){const L=b.textContent.trim();L==="reloading..."&&o++,L==="Verified Successfully"&&o++,L==="Verified Successfully"&&o===u&&(_.handleCaptchaFeedbackOnSuccess("mtCaptcha",t().APIKEY),o=0),o===u&&(chrome.storage.local.set({mtCaptcha_solved:!1}),chrome.storage.local.set({mtCaptcha_hasRun:!1}),_.handleCaptchaFeedback("mtCaptcha",t().APIKEY),o=0)}}).observe(b,{childList:!0,subtree:!0}))}}).observe(document.body,{childList:!0,subtree:!0})})();t().ACTIVE===!0&&!t().BLACKLIST.includes(e())&&t()?.AUTOOPENENABLED;)if(await R(3e3),t().OPTIONS.MTCAPTCHA.AUTOSOLVE&&y!==!0){let o=document.querySelector("#desc4InputText-1"),u="";o&&(u=o.textContent),u!=="captcha verified successfully."&&y!==!0&&await O()}}};function et(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G={exports:{}},tt=G.exports,be;function st(){return be||(be=1,function(e,t){(function(s,r){r(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:tt,function(s){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)s.exports=globalThis.browser;else{const r="The message port closed before a response was received.",n=a=>{const g={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(g).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class p extends WeakMap{constructor(c,m=void 0){super(m),this.createItem=c}get(c){return this.has(c)||this.set(c,this.createItem(c)),super.get(c)}}const y=i=>i&&typeof i=="object"&&typeof i.then=="function",w=(i,c)=>(...m)=>{a.runtime.lastError?i.reject(new Error(a.runtime.lastError.message)):c.singleCallbackArg||m.length<=1&&c.singleCallbackArg!==!1?i.resolve(m[0]):i.resolve(m)},v=i=>i==1?"argument":"arguments",S=(i,c)=>function(o,...u){if(u.length<c.minArgs)throw new Error(`Expected at least ${c.minArgs} ${v(c.minArgs)} for ${i}(), got ${u.length}`);if(u.length>c.maxArgs)throw new Error(`Expected at most ${c.maxArgs} ${v(c.maxArgs)} for ${i}(), got ${u.length}`);return new Promise((d,A)=>{if(c.fallbackToNoCallback)try{o[i](...u,w({resolve:d,reject:A},c))}catch(l){console.warn(`${i} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,l),o[i](...u),c.fallbackToNoCallback=!1,c.noCallback=!0,d()}else c.noCallback?(o[i](...u),d()):o[i](...u,w({resolve:d,reject:A},c))})},I=(i,c,m)=>new Proxy(c,{apply(o,u,d){return m.call(u,i,...d)}});let x=Function.call.bind(Object.prototype.hasOwnProperty);const C=(i,c={},m={})=>{let o=Object.create(null),u={has(A,l){return l in i||l in o},get(A,l,h){if(l in o)return o[l];if(!(l in i))return;let b=i[l];if(typeof b=="function")if(typeof c[l]=="function")b=I(i,i[l],c[l]);else if(x(m,l)){let f=S(l,m[l]);b=I(i,i[l],f)}else b=b.bind(i);else if(typeof b=="object"&&b!==null&&(x(c,l)||x(m,l)))b=C(b,c[l],m[l]);else if(x(m,"*"))b=C(b,c[l],m["*"]);else return Object.defineProperty(o,l,{configurable:!0,enumerable:!0,get(){return i[l]},set(f){i[l]=f}}),b;return o[l]=b,b},set(A,l,h,b){return l in o?o[l]=h:i[l]=h,!0},defineProperty(A,l,h){return Reflect.defineProperty(o,l,h)},deleteProperty(A,l){return Reflect.deleteProperty(o,l)}},d=Object.create(i);return new Proxy(d,u)},M=i=>({addListener(c,m,...o){c.addListener(i.get(m),...o)},hasListener(c,m){return c.hasListener(i.get(m))},removeListener(c,m){c.removeListener(i.get(m))}}),R=new p(i=>typeof i!="function"?i:function(m){const o=C(m,{},{getContent:{minArgs:0,maxArgs:0}});i(o)}),O=new p(i=>typeof i!="function"?i:function(m,o,u){let d=!1,A,l=new Promise(P=>{A=function(E){d=!0,P(E)}}),h;try{h=i(m,o,A)}catch(P){h=Promise.reject(P)}const b=h!==!0&&y(h);if(h!==!0&&!b&&!d)return!1;const f=P=>{P.then(E=>{u(E)},E=>{let L;E&&(E instanceof Error||typeof E.message=="string")?L=E.message:L="An unexpected error occurred",u({__mozWebExtensionPolyfillReject__:!0,message:L})}).catch(E=>{console.error("Failed to send onMessage rejected reply",E)})};return f(b?h:l),!0}),N=({reject:i,resolve:c},m)=>{a.runtime.lastError?a.runtime.lastError.message===r?c():i(new Error(a.runtime.lastError.message)):m&&m.__mozWebExtensionPolyfillReject__?i(new Error(m.message)):c(m)},j=(i,c,m,...o)=>{if(o.length<c.minArgs)throw new Error(`Expected at least ${c.minArgs} ${v(c.minArgs)} for ${i}(), got ${o.length}`);if(o.length>c.maxArgs)throw new Error(`Expected at most ${c.maxArgs} ${v(c.maxArgs)} for ${i}(), got ${o.length}`);return new Promise((u,d)=>{const A=N.bind(null,{resolve:u,reject:d});o.push(A),m.sendMessage(...o)})},F={devtools:{network:{onRequestFinished:M(R)}},runtime:{onMessage:M(O),onMessageExternal:M(O),sendMessage:j.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:j.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},q={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return g.privacy={network:{"*":q},services:{"*":q},websites:{"*":q}},C(a,F,g)};s.exports=n(chrome)}})}(G)),G.exports}var rt=st();const pe=et(rt);function z(e,...t){}const nt={debug:(...e)=>z(console.debug,...e),log:(...e)=>z(console.log,...e),warn:(...e)=>z(console.warn,...e),error:(...e)=>z(console.error,...e)};class se extends Event{constructor(t,s){super(se.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=s}static EVENT_NAME=re("wxt:locationchange")}function re(e){return`${pe?.runtime?.id}:mtCaptcha:${e}`}function ot(e){let t,s;return{run(){t==null&&(s=new URL(location.href),t=e.setInterval(()=>{let r=new URL(location.href);r.href!==s.href&&(window.dispatchEvent(new se(r,s)),s=r)},1e3))}}}class J{constructor(t,s){this.contentScriptName=t,this.options=s,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=re("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=ot(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return pe.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,s){const r=setInterval(()=>{this.isValid&&t()},s);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,s){const r=setTimeout(()=>{this.isValid&&t()},s);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const s=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(s)),s}requestIdleCallback(t,s){const r=requestIdleCallback((...n)=>{this.signal.aborted||t(...n)},s);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,s,r,n){s==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(s.startsWith("wxt:")?re(s):s,r,{...n,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),nt.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:J.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const s=t.data?.type===J.SCRIPT_STARTED_MESSAGE_TYPE,r=t.data?.contentScriptName===this.contentScriptName,n=!this.receivedMessageIds.has(t.data?.messageId);return s&&r&&n}listenForNewerScripts(t){let s=!0;const r=n=>{if(this.verifyScriptStartedEvent(n)){this.receivedMessageIds.add(n.data.messageId);const a=s;if(s=!1,a&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}}const at=Symbol("null");let it=0;class ct extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[s,r]of t)this.set(s,r)}}_getPublicKeys(t,s=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const r=this._getPrivateKey(t,s);let n;return r&&this._publicKeys.has(r)?n=this._publicKeys.get(r):s&&(n=[...t],this._publicKeys.set(r,n)),{privateKey:r,publicKey:n}}_getPrivateKey(t,s=!1){const r=[];for(let n of t){n===null&&(n=at);const a=typeof n=="object"||typeof n=="function"?"_objectHashes":typeof n=="symbol"?"_symbolHashes":!1;if(!a)r.push(n);else if(this[a].has(n))r.push(this[a].get(n));else if(s){const g=`@@mkm-ref-${it++}@@`;this[a].set(n,g),r.push(g)}else return!1}return JSON.stringify(r)}set(t,s){const{publicKey:r}=this._getPublicKeys(t,!0);return super.set(r,s)}get(t){const{publicKey:s}=this._getPublicKeys(t);return super.get(s)}has(t){const{publicKey:s}=this._getPublicKeys(t);return super.has(s)}delete(t){const{publicKey:s,privateKey:r}=this._getPublicKeys(t);return!!(s&&super.delete(s)&&this._publicKeys.delete(r))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new ct;function dt(){}function Z(e,...t){}const lt={debug:(...e)=>Z(console.debug,...e),log:(...e)=>Z(console.log,...e),warn:(...e)=>Z(console.warn,...e),error:(...e)=>Z(console.error,...e)};return(async()=>{try{const{main:e,...t}=Qe,s=new J("mtCaptcha",t);return await e(s)}catch(e){throw lt.error('The content script "mtCaptcha" crashed on startup!',e),e}})()}();
mtcaptcha;
